{"version":3,"sources":["../../src/pages/addevent/addevent.ts","../../src/pages/addevent/addevent.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAA0C;AAC8F;AACpE;AACF;AAQlE,IAAa,YAAY;IAevB,sBAAmB,OAAsB,EAAS,SAAoB,EAAU,QAAwB,EAAS,eAAgC,EAAS,SAA0B,EAAS,SAA0B,EAAQ,WAA8B,EAAU,WAAuB;QAA9R,iBAqFC;QArFkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAQ,gBAAW,GAAX,WAAW,CAAmB;QAAU,gBAAW,GAAX,WAAW,CAAY;QAC5R,IAAI,KAAK,CAAC;QACV,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACxD,EAAE,EAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,EAAC;YAClC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACtC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAEhD,CAAC;QACD,EAAE,EAAC,IAAI,CAAC,eAAe,IAAI,EAAE,IAAI,IAAI,CAAC,eAAe,IAAI,IAAI,IAAI,IAAI,CAAC,eAAe,IAAI,SAAS,CAAC,EAAC;YAClG,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC5B,CAAC;QACD,EAAE,EAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC,CAC1C,CAAC;YACA,IAAI,CAAC,eAAe,GAAG,YAAY,CAAC;YACpC,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;YACtC,IAAM,SAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC5C,SAAO,CAAC,OAAO,EAAE,CAAC;YACrB,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,UAAC,WAAW;gBAChE,SAAO,CAAC,UAAU,EAAE,CAAC;gBACzB,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;gBAC9C,KAAI,CAAC,aAAa,GAAG,WAAW,CAAC,IAAI,CAAC,aAAa,CAAC;gBACpD,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC;gBAC1C,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC;gBAC5C,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC;gBAChD,KAAI,CAAC,iBAAiB,GAAG,WAAW,CAAC,IAAI,CAAC,iBAAiB,CAAC;gBACxD,sBAAsB;gBACtB,KAAI,CAAC,eAAe,CAAC,MAAM,CAAE,KAAI,CAAC,eAAe,CAAC,OAAO,CAAC,KAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAE,CAAC;gBACnF,EAAE,EAAC,SAAS,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,EAAC;oBAClC,KAAI,CAAC,gBAAgB,EAAE,CAAC;gBAC1B,CAAC;YACN,CAAC,EACI,aAAG;gBACC,SAAO,CAAC,UAAU,EAAE,CAAC;gBACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC9B,CAAC,CAAC,CAAC;QACT,CAAC;QACD,IAAI,CACJ,CAAC;YACA,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC;YAC7C,EAAE,EAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,GAAG,CAAC,EAAC;gBACjC,IAAI,CAAC,eAAe,GAAG,WAAW,CAAC;gBACnC,IAAI,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBAC/B,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;gBACjC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC,OAAO,CAAC;gBAC3B,IAAI,CAAC,aAAa,GAAG,GAAG,CAAC,aAAa,CAAC;gBACvC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC;gBACjC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,WAAW,CAAC;gBACnC,IAAI,CAAC,iBAAiB,GAAG,GAAG,CAAC,iBAAiB,CAAC;gBAC/C,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC;YACrB,CAAC;QACL,CAAC;QAEC,EAAE,EAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,GAAG,CAAC,EAAC;YAChC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,CAAC;QAC7C,CAAC;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,EAAE,CAAC;QAExC,EAAE,EAAC,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC,EAAC;YACtB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACjC,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBACf,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACvC,aAAa,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBAC1C,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACvC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACxC,iBAAiB,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBAC9C,OAAO,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACpC,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC;aACpB,CAAC,CAAC;QACL,CAAC;QACD,IAAI,EAAC;YACH,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;gBACjC,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC;gBACf,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACvC,aAAa,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBAC1C,UAAU,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACvC,WAAW,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBACxC,iBAAiB,EAAE,CAAC,EAAE,EAAE,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC;gBAC9C,MAAM,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC;aACpB,CAAC,CAAC;QACL,CAAC;IAEL,CAAC;IAED,uCAAgB,GAAhB;QACE,IAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;QAC3B,EAAE,EAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,EAAC;YACxB,IAAI,eAAe,GAAG,EAAE,CAAC;YACzB,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAS,GAAG;gBAClC,EAAE,EAAC,GAAG,CAAC,OAAO,IAAI,OAAO,CAAC,EAAC;oBACzB,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;gBAC1C,CAAC;YACH,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;YACvC,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,SAAS,CAAC,EAAC;gBAC9C,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAE,CAAC;YACpF,CAAC;YACD,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;QACnC,CAAC;IACH,CAAC;IAED,+BAAQ,GAAR;QACC,IAAI,KAAK,EAAC,EAAE,EAAC,EAAE,GAAG,EAAE,CAAC;QACrB,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACnB,EAAE,GAAG,KAAK,CAAC,OAAO,EAAE,CAAC;QACrB,EAAE,GAAG,KAAK,CAAC,QAAQ,EAAE,GAAC,CAAC,CAAC,CAAC,eAAe;QAEzC,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAC/B,EAAE,EAAC,EAAE,GAAG,IAAI,CAAC,EAAC;YACV,EAAE,GAAC,GAAG,GAAC,EAAE,CAAC;QACd,CAAC;QACD,EAAE,EAAC,EAAE,GAAG,IAAI,CAAC,EAAC;YACV,EAAE,GAAC,GAAG,GAAC,EAAE,CAAC;QACd,CAAC;QACD,MAAM,CAAC,KAAK,GAAG,IAAI,GAAC,GAAG,GAAC,EAAE,GAAC,GAAG,GAAC,EAAE,CAAC;IAClC,CAAC;IAED,kCAAW,GAAX;QACE,IAAI,KAAK,EAAC,IAAI,GAAG,EAAE,CAAC;QACpB,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACnB,IAAI,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAC3B,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAED,yCAAkB,GAAlB,UAAmB,IAAW;QAAX,kCAAW;QAC5B,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,YAAY,GAAG,kBAAkB;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,OAAO,EAAE,0BAA0B,GAAC,GAAG;YACvC,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,MAAM;SACjB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,8BAAO,GAAP;QAEC,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IACzB,CAAC;IACD,uCAAgB,GAAhB;QACE,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,aAAa,EAAE,CAAC;QACxC,CAAC;QACD,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC;YAClB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,eAAe,CAAC;YACjC,EAAE,EAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,IAAI,cAAc,CAAC,CAAC,CAAC;gBACnD,EAAE,EAAC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAC;oBACnE,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;wBAChC,OAAO,EAAE,mDAAmD;wBAC5D,QAAQ,EAAE,IAAI;wBACd,QAAQ,EAAE,KAAK;wBACf,QAAQ,EAAE,QAAQ;qBACnB,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;gBAClB,CAAC;gBACD,IAAI,EAAC;oBACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBACzC,CAAC;YACH,CAAC;YACD,IAAI,EAAC;gBACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YACzC,CAAC;QACH,CAAC;IACH,CAAC;IACH,mBAAC;AAAD,CAAC;AAtLY,YAAY;IANxB,wEAAS,EAAE;IACX,gEAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,WAAW,oFAAE,CAAe;OACa;KAC1C,CAAC;iBAgB8R;AAuK/R;SAtLY,YAAY,e;;;;;;;;;;;;;;;;;;;ACXgB;AACO;AACN;AAU1C,IAAa,kBAAkB;IAA/B;IAAiC,CAAC;IAAD,yBAAC;AAAD,CAAC;AAArB,kBAAkB;IAR9B,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,+DAAY;SACb;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,+DAAY,CAAC;SACvC;KACF,CAAC;GACW,kBAAkB,CAAG;AAAH","file":"108.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams , ViewController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addevent',\r\n  templateUrl: 'addevent.html',\r\n  providers: [CompanyProvider, FormBuilder] \r\n})\r\nexport class AddeventPage {\r\nform: FormGroup;\r\nstart_date: any;\r\nevent_tagline: any;\r\nevent_time: any;\r\ntradeId: any;\r\nevent_title: any;\r\nevent_description: any;\r\nmain_page_title: any;\r\nmin_date: any;\r\nmax_date: any;\r\nall_events_name: any;\r\ntrades: any;\r\nisTrade: any;\r\nall_events: any;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams , public viewCtrl: ViewController, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController, private formBuilder:FormBuilder) {\r\n    var token;\r\n    this.all_events_name = navParams.get('all_events_name');\r\n    if(navParams.get('isTrade') == '1'){\r\n      this.isTrade = '1';\r\n      this.trades = navParams.get('trades');\r\n      this.all_events = navParams.get('all_events');\r\n      \r\n    }\r\n    if(this.all_events_name == '' || this.all_events_name == null || this.all_events_name == undefined){\r\n      this.all_events_name = [];\r\n    }\r\n  \t\tif(navParams.get('event_id') != undefined)\r\n  \t\t{ \r\n  \t\t\tthis.main_page_title = 'Edit Event';\r\n  \t\t\tvar event_id = navParams.get('event_id');\r\n        const loading = this.loadingCtrl.create({});\r\n        loading.present();\r\n  \t\t\tthis.companyProvider.CalendarDetails(event_id).subscribe((eventdetail)=>{\r\n          loading.dismissAll();\r\n  \t\t\t\tthis.start_date = eventdetail.data.start_date;\r\n  \t\t\t\tthis.event_tagline = eventdetail.data.event_tagline;\r\n  \t\t\t\tthis.event_time = eventdetail.data.event_time;\r\n          this.tradeId = eventdetail.data.tradeId;\r\n  \t\t\t\tthis.event_title = eventdetail.data.event_title;\r\n  \t\t\t\tthis.event_description = eventdetail.data.event_description;\r\n          // token = eve.random;\r\n          this.all_events_name.splice( this.all_events_name.indexOf(this.event_tagline), 1 );\r\n          if(navParams.get('isTrade') == '1'){\r\n            this.get_events_names();\r\n          }\r\n  \t\t\t},\r\n          err => {\r\n              loading.dismissAll();\r\n              this.showTechnicalError();\r\n          });\r\n  \t\t}\r\n  \t\telse\r\n  \t\t{\r\n  \t\t\tthis.main_page_title = 'Add Event';\r\n  \t\t\tthis.start_date = navParams.get('current_date');\r\n        if(navParams.get('isEdit') == '1'){\r\n          this.main_page_title = 'Add Event';\r\n          var eve = navParams.get('eve');\r\n          this.start_date = eve.start_date;\r\n          this.tradeId = eve.tradeId;\r\n          this.event_tagline = eve.event_tagline;\r\n          this.event_time = eve.event_time;\r\n          this.event_title = eve.event_title;\r\n          this.event_description = eve.event_description;\r\n          token = eve.random; \r\n        }\r\n  \t\t}\r\n\r\n      if(navParams.get('isAdd') == '1'){\r\n        token = Math.floor(Math.random() * 100000);\r\n      }\r\n\r\n      this.min_date = this.getToday();\r\n      this.max_date = this.getFullYear() + 30;\r\n  \t\t\r\n      if(this.isTrade == '1'){\r\n        this.form = this.formBuilder.group({\r\n          _id: [null, []],\r\n          start_date: ['', [Validators.required]],\r\n          event_tagline: ['', [Validators.required]],\r\n          event_time: ['', [Validators.required]],\r\n          event_title: ['', [Validators.required]],\r\n          event_description: ['', [Validators.required]],\r\n          tradeId: ['', [Validators.required]],\r\n          random: [token, []]\r\n        });\r\n      }\r\n      else{\r\n        this.form = this.formBuilder.group({\r\n          _id: [null, []],\r\n          start_date: ['', [Validators.required]],\r\n          event_tagline: ['', [Validators.required]],\r\n          event_time: ['', [Validators.required]],\r\n          event_title: ['', [Validators.required]],\r\n          event_description: ['', [Validators.required]],\r\n          random: [token, []]\r\n        });\r\n      }\r\n\t  \t\r\n  }\r\n\r\n  get_events_names(){\r\n    var tradeId = this.tradeId;\r\n    if(this.all_events != ''){\r\n      var all_events_name = [];\r\n      this.all_events.forEach(function(eve){\r\n        if(eve.tradeId == tradeId){\r\n          all_events_name.push(eve.event_tagline);\r\n        }\r\n      });\r\n      this.all_events_name = all_events_name;\r\n      if(this.navParams.get('event_id') != undefined){\r\n        this.all_events_name.splice(this.all_events_name.indexOf(this.event_tagline), 1 );\r\n      }\r\n      console.log(this.all_events_name)\r\n    } \r\n  }\r\n\r\n  getToday(){\r\n   var today,dd,mm = '';\r\n   today = new Date();\r\n   dd = today.getDate();\r\n   mm = today.getMonth()+1; //January is 0!\r\n\r\n  var yyyy = today.getFullYear();\r\n  if(dd < '10'){\r\n      dd='0'+dd;\r\n  } \r\n  if(mm < '10'){\r\n      mm='0'+mm;\r\n  } \r\n  return today = yyyy+'-'+mm+'-'+dd;\r\n  }\r\n\r\n  getFullYear(){\r\n    var today,year = '';\r\n    today = new Date();\r\n    year = today.getFullYear();\r\n    return year; \r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  dismiss()\r\n  {\r\n  \tthis.viewCtrl.dismiss();\r\n  }\r\n  addCalendarEvent(){ \r\n    for (let i in this.form.controls) {\r\n      this.form.controls[i].markAsTouched();\r\n    }\r\n    if(this.form.valid){\r\n      console.log(this.all_events_name)\r\n      if(this.form.value.event_tagline == 'Bid Deadline') {\r\n        if(this.all_events_name.indexOf(this.form.value.event_tagline) >= 0){\r\n          let toast = this.toastCtrl.create({\r\n            message: 'You can add only one bid deadline for this trade.',\r\n            duration: 3000,\r\n            position: 'top',\r\n            cssClass: 'danger'\r\n          });\r\n          toast.present();\r\n        }\r\n        else{\r\n          this.viewCtrl.dismiss(this.form.value);\r\n        }\r\n      }\r\n      else{\r\n        this.viewCtrl.dismiss(this.form.value);\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addevent/addevent.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddeventPage } from './addevent';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddeventPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddeventPage),\r\n  ],\r\n})\r\nexport class AddeventPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addevent/addevent.module.ts"],"sourceRoot":""}