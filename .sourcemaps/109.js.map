{"version":3,"sources":["../../src/pages/addcontract/addcontract.ts","../../src/pages/addcontract/addcontract.module.ts"],"names":[],"mappings":"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","file":"109.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams  , ModalController, AlertController,ToastController,LoadingController,ViewController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport { FormGroup, FormBuilder, Validators, FormControl } from '@angular/forms';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addcontract',\r\n  templateUrl: 'addcontract.html',\r\n  providers: [CompanyProvider, FormBuilder]\r\n})\r\nexport class AddcontractPage {\r\ntabInput: string = \"basicdetail\";\r\nform: FormGroup;\r\njob_number: any;\r\njob_title: any;\r\ntrade_name: any;\r\ntrade_task: any;\r\ncontract_date: any;\r\nmin_date: any;\r\nmax_date: any;\r\njob_description: any;\r\njobId: any;\r\ntradeId: any;\r\nBidId: any;\r\nInvId: any;\r\nactive_job_breadcrumb = localStorage.getItem('active_job_breadcrumb');\r\n  constructor(public modalCtrl: ModalController, public navCtrl: NavController, public navParams: NavParams, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController, private formBuilder:FormBuilder, public viewCtrl: ViewController) {\r\n\r\n  \t\tthis.jobId = navParams.get('jobId');\r\n  \t\tthis.form = this.formBuilder.group({\r\n      \t\t  job_title: new FormControl({value: this.job_title, disabled: true}, Validators.required),\r\n\t\t      job_number: new FormControl({value: this.job_number, disabled: true}, Validators.required),\r\n\t\t      trade_name: new FormControl({value: this.trade_name, disabled: true}, Validators.required),\r\n\t\t      trade_task: ['', [Validators.required]],\r\n\t\t      job_description: ['', [Validators.required]],\r\n\t\t      contract_date: ['', [Validators.required]],\r\n\t\t      pm_name: ['', []],\r\n\t\t      pm_contact: ['', []],\r\n\t\t      site_address: ['', []],\r\n\t\t      site_address2: ['', []],\r\n\t\t      site_city: ['', []],\r\n\t\t      site_state: ['', []],\r\n\t\t      site_country: ['', []],\r\n\t\t      site_zip: ['', []],\r\n\t\t      owner_name: ['', []],\r\n\t\t      owner_address: ['', []],\r\n\t\t      owner_city: ['', []],\r\n\t\t      owner_state: ['', []],\r\n\t\t      owner_country: ['', []],\r\n\t\t      owner_zip: ['', []],\r\n\t\t      last_updated: ['', []],\r\n\t\t      total_owned_by_owner: ['', []],\r\n\t\t      total_gc_owes_subs: ['', []],\r\n\t\t      original_contract_amount: ['', []],\r\n\t\t      sub_contract_amount: ['', []],\r\n\t\t      net_co_to_date: ['', []],\r\n\t\t      subs_change_orders: ['', []],\r\n\t\t      updated_contract_amount: ['', []],\r\n\t\t      total_sub_contractors: ['', []],\r\n\t\t      retainage_due: ['', []],\r\n\t\t      sub_retainage_due: ['', []],\r\n\t\t      total_paid_by_owner: ['', []],\r\n\t\t      total_gc_paid_subs: ['', []],\r\n\t\t      retainage_contractor: ['', []],\r\n\t\t      retainage_for_subs: ['', []],\r\n\t\t      bonding_due_or_withheld: ['', []],\r\n\t\t      project_start_date: ['', []],\r\n\t\t      schedule_days: ['', []],\r\n\t\t      schedule_impact_days: ['', []],\r\n\t\t      proposed_finish_date: ['', []],\r\n\t\t      bonding_required: ['', []],\r\n\t\t      bonding_input: ['', []],\r\n\t\t      profit_overhead: ['', []]\r\n\t\t    });\r\n  \t\tif(this.jobId == undefined)\r\n\t    {\r\n\t      \tthis.navCtrl.push('ManagejobPage',{\r\n\t      \t\tis_direct : '0'\r\n\t      \t});\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t    \tconst loading = this.loadingCtrl.create({});\r\n      \t\tloading.present();\r\n\t    \tthis.tradeId = navParams.get('tradeId');\r\n\t    \tthis.InvId = navParams.get('InvId');\r\n\t    \tthis.BidId = navParams.get('BidId');\r\n\t    \tthis.contract_date = this.getToday();\r\n\t    \tthis.min_date = this.getToday();\r\n\t    \tthis.max_date = + this.getFullYear() + 30;\r\n\t    \tthis.companyProvider.jobDetails(this.jobId).subscribe((jobdetails)=>{\r\n\t    \t\tjobdetails = jobdetails[0];\r\n\t\t        this.job_number = jobdetails.job_number;\r\n\t\t        this.job_title = jobdetails.job_title;\r\n\t\t      },\r\n\t          err => {\r\n\t              this.showTechnicalError();\r\n\t          });\r\n\t    \tthis.companyProvider.tradeDetails(this.tradeId).subscribe((tradedetails)=>{\r\n\t    \t\tif(tradedetails != '')\r\n\t    \t\t{\r\n\t    \t\t\tthis.trade_name = tradedetails.trade_name;\r\n\t\t\t        this.trade_task = tradedetails.trade_task;\r\n\t\t\t        this.job_description = tradedetails.job_description;\r\n\t    \t\t}\r\n\t    \t\tloading.dismissAll();\r\n\t\t      },\r\n\t          err => {\r\n\t              loading.dismissAll();\r\n\t              this.showTechnicalError();\r\n\t          });\r\n\t    }\r\n\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  getToday()\r\n  {\r\n  \tvar today,dd,mm = '';\r\n  \t today = new Date();\r\n\t dd = today.getDate();\r\n\t mm = today.getMonth()+1; //January is 0!\r\n\r\n\tvar yyyy = today.getFullYear();\r\n\tif(dd < '10'){\r\n\t    dd='0'+dd;\r\n\t} \r\n\tif(mm < '10'){\r\n\t    mm='0'+mm;\r\n\t} \r\n\treturn today = yyyy+'-'+mm+'-'+dd;\r\n  }\r\n\r\n  submit_cont_frm(){\r\n  \tdocument.getElementById('submit_cont_frm').click();\r\n  }\r\n\r\n  getFullYear()\r\n  {\r\n  \tvar today,year = '';\r\n  \ttoday = new Date();\r\n\tyear = today.getFullYear();\r\n\treturn year; \r\n  }\r\n\r\n  addContract(){ \r\n    for (let i in this.form.controls) {\r\n      this.form.controls[i].markAsTouched();\r\n    }\r\n    if(this.form.valid){\r\n    \tconst loading = this.loadingCtrl.create({});\r\n      \tloading.present();\r\n        var InvtId = (this.InvId == null || this.InvId == '') ? '0' : this.InvId;\r\n        this.companyProvider.addContract(InvtId,this.BidId,this.jobId,this.tradeId,this.form.value).subscribe((formdata)=>{\r\n\t        if(formdata.status == '1')\r\n\t        {\r\n\t        \tloading.dismissAll()\r\n                  let toast = this.toastCtrl.create({\r\n                      message: 'Contract added successfully.',\r\n                      duration: 3000,\r\n                      position: 'top',\r\n                      cssClass: 'success'\r\n                     });\r\n                     toast.present(); \r\n                     this.viewCtrl.dismiss();\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t        \tloading.dismissAll()\r\n                  let toast = this.toastCtrl.create({\r\n                      message: 'Error, plz try later.',\r\n                      duration: 3000,\r\n                      position: 'top',\r\n                      cssClass: 'danger'\r\n                     });\r\n                     toast.present(); \r\n\t        }\r\n    \t},\r\n          err => {\r\n              loading.dismissAll();\r\n              this.showTechnicalError('1');\r\n          });\r\n    }\r\n    else\r\n    {\r\n    \tlet toast = this.toastCtrl.create({\r\n          message: 'Please fill required fields.',\r\n          duration: 3000,\r\n          position: 'top',\r\n          cssClass: 'danger'\r\n         });\r\n         toast.present(); \r\n    }\r\n  }\r\n\r\n  root(){\r\n    this.navCtrl.setRoot('DashboardPage');\r\n  };\r\n  \r\n  goToJobs(){\r\n    this.navCtrl.push('ManagejobPage',{\r\n    is_direct : '0'\r\n    });\r\n  };\r\n\r\n  backToPage()\r\n  {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  backToTradeDash()\r\n  {\r\n    this.navCtrl.push('TradeDashboardPage',{\r\n      back : '1'\r\n    });\r\n  }\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addcontract/addcontract.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddcontractPage } from './addcontract';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddcontractPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddcontractPage),\r\n  ],\r\n})\r\nexport class AddcontractPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addcontract/addcontract.module.ts"],"sourceRoot":""}