{"version":3,"sources":["../../src/pages/addcompany/addcompany.ts","../../src/pages/addcompany/addcompany.module.ts"],"names":[],"mappings":"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","file":"111.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage,NavController,ModalController,ViewController, NavParams,LoadingController,ToastController } from 'ionic-angular';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addcompany',\r\n  templateUrl: 'addcompany.html',\r\n  providers: [CompanyProvider,FormBuilder]\r\n})\r\nexport class AddcompanyPage {\r\nform: FormGroup;\r\nPageType: string;\r\nid: string;\r\ncompany_name: string;\r\naddress: string;\r\n constructor(public navCtrl: NavController, public modalCtrl: ModalController,public viewCtrl: ViewController, public navParams: NavParams, private formBuilder:FormBuilder, public toastCtrl: ToastController,public loadingCtrl: LoadingController, public companyProvider: CompanyProvider) {\r\n  this.PageType = localStorage.getItem(\"companyPageType\");\r\n  if(this.PageType == 'edit')\r\n  {\r\n    this.form = this.formBuilder.group({\r\n      id: ['', [Validators.required]],\r\n      company_name: ['', [Validators.required]],\r\n      address: ['', [Validators.required]]\r\n    })\r\n    this.id = localStorage.getItem(\"companyId\");\r\n    this.company_name = localStorage.getItem(\"companyName\");\r\n    this.address = localStorage.getItem(\"companyAddress\");\r\n  }\r\n  else\r\n  {\r\n    this.form = this.formBuilder.group({\r\n      company_name: ['', [Validators.required]],\r\n      address: ['', [Validators.required]]\r\n    })\r\n  }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    //console.log('ionViewDidLoad AddcompanyPage');\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  dismiss(status = null) {\r\n    this.viewCtrl.dismiss(status);\r\n  }\r\n  \r\n  addCompany(){\r\n    for (let i in this.form.controls) {\r\n      this.form.controls[i].markAsTouched();\r\n    }\r\n    if(this.form.valid){\r\n      const loading = this.loadingCtrl.create({});\r\n      loading.present();\r\n      var userId = localStorage.getItem('userinfo');\r\n      if(this.PageType == 'add')\r\n      {\r\n        this.companyProvider.addCompany(userId,this.form.value).subscribe((formdata)=>{\r\n        if(formdata.status == '1')\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Company added successfully.',\r\n              duration: 3000,\r\n              cssClass: 'success',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n          this.form.reset();\r\n          this.dismiss('1');\r\n        }\r\n        else if(formdata.status == '2')\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Company already exists.',\r\n              duration: 3000,\r\n              cssClass: 'danger',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n        }\r\n        else\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Error, plz try later.',\r\n              duration: 3000,\r\n              cssClass: 'danger',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n        }\r\n      \r\n      },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError('1');\r\n      });\r\n      } \r\n      else\r\n      {\r\n        this.companyProvider.editCompany(this.form.value).subscribe((formdata)=>{\r\n        if(formdata.status == '1')\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Company updated successfully.',\r\n              duration: 3000,\r\n              cssClass: 'success',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n          this.form.reset();\r\n          this.dismiss('1');\r\n        }\r\n        else if(formdata.status == '2')\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Company already exists.',\r\n              duration: 3000,\r\n              cssClass: 'danger',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n        }\r\n        else\r\n        {\r\n          loading.dismissAll()\r\n          let toast = this.toastCtrl.create({\r\n              message: 'Error, plz try later.',\r\n              duration: 3000,\r\n              cssClass: 'danger',\r\n              position: 'top'\r\n             });\r\n             toast.present(); \r\n        }\r\n      \r\n      },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError('1');\r\n      });\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addcompany/addcompany.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddcompanyPage } from './addcompany';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddcompanyPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddcompanyPage),\r\n  ],\r\n})\r\nexport class AddcompanyPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addcompany/addcompany.module.ts"],"sourceRoot":""}