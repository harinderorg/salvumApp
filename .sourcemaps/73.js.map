{"version":3,"sources":["../../src/pages/paid-contacts/paid-contacts.ts","../../src/pages/paid-contacts/paid-contacts.module.ts"],"names":[],"mappings":"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","file":"73.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams , ViewController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-paid-contacts',\r\n  templateUrl: 'paid-contacts.html',\r\n  providers: [CompanyProvider] \r\n})\r\nexport class PaidContactsPage {\r\nall_contacts:any = [];\r\nselected_contacts:any = [];\r\nuserId:any;\r\nenable_level1:any;\r\nenable_level2:any;\r\nenable_level3:any;\r\nenable_level4:any;\r\nallowed_levels:any;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams , public viewCtrl: ViewController, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController) {\r\n  \tvar All_contacts = [];\r\n  \tthis.userId = localStorage.getItem('userinfo');\r\n\r\n  \tthis.allowed_levels = [];\r\n    var levels_array = JSON.parse(localStorage.getItem('alllevel'));\r\n    if(levels_array){\r\n      levels_array.forEach((value) => {\r\n        var decrypted = CryptoJS.AES.decrypt(value, this.userId);\r\n        if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level1'){\r\n          this.enable_level1  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level2'){\r\n          this.enable_level2  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level3'){\r\n          this.enable_level3  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level4'){\r\n          this.enable_level4  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level0'){\r\n          this.enable_level1 = 'true';\r\n          this.enable_level2 = 'true';\r\n          this.enable_level3 = 'true';\r\n          this.enable_level4 = 'true';\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.enable_level1 == 'false') \r\n    {\r\n      this.allowed_levels.push('1');\r\n    }\r\n    if(this.enable_level2 == 'false')\r\n    {\r\n      this.allowed_levels.push('2');\r\n    }\r\n    if(this.enable_level3 == 'false')\r\n    {\r\n      this.allowed_levels.push('3');\r\n    }\r\n    if(this.enable_level4 == 'false')\r\n    {\r\n      this.allowed_levels.push('4');\r\n    }\r\n    var self = this;\r\n    var allowed_levels = this.allowed_levels;\r\n    this.companyProvider.getContactList(this.userId).subscribe((allContacts)=>{\r\n        allContacts.forEach(function(data){\r\n          if(data.memberstatus == '2' && data.senderSetLevelStatus == '1' && data.recevierSetLevelStatus == '1') //data.amount > 0\r\n          {\r\n            var allow_level = '';\r\n            if(data.senderId != self.userId)\r\n              {\r\n                allow_level = data.reciverSetLevel;\r\n              }\r\n              else\r\n              {\r\n                allow_level = data.senderSetLevel;\r\n              }\r\n            if(allowed_levels.indexOf(allow_level) >= 0)\r\n            {\r\n              All_contacts.push(data);\r\n            }\r\n          }\r\n        });\r\n        this.all_contacts = All_contacts;\r\n        if(navParams.get('already') != undefined)\r\n        {\r\n          All_contacts = [];\r\n          var already_added = navParams.get('already');\r\n          this.all_contacts.forEach(function(value){\r\n            if(already_added.indexOf(value.email) == -1)\r\n            {\r\n              All_contacts.push(value);\r\n            }\r\n          });\r\n          this.all_contacts = All_contacts;\r\n        }\r\n        console.log(All_contacts)\r\n      },\r\n      err => {\r\n          this.showTechnicalError();\r\n      });\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  dismiss()\r\n  {\r\n  \tthis.viewCtrl.dismiss({});\r\n  }\r\n  addContacts()\r\n  {\r\n    if(this.selected_contacts.length == 0)\r\n    {\r\n      this.dismiss();\r\n    }\r\n\telse\r\n    {\r\n      this.viewCtrl.dismiss(this.selected_contacts);\r\n    }\r\n  }\r\n  insertContactToArray(event,contact){\r\n  \t\tif(event.checked == true)\r\n  \t\t{\r\n  \t\t\tthis.selected_contacts.push(contact);\r\n  \t\t}\r\n  \t\telse\r\n  \t\t{\r\n  \t\t\tthis.removeArray(this.selected_contacts, contact);\r\n  \t\t}\r\n\t}\r\n\tremoveArray(arr,what) {\r\n\t   var a = arguments, L = a.length, ax;\r\n\t    while (L > 1 && arr.length) {\r\n\t        what = a[--L];\r\n\t        while ((ax= arr.indexOf(what)) !== -1) {\r\n\t            arr.splice(ax, 1);\r\n\t        }\r\n\t    }\r\n\t    return arr;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paid-contacts/paid-contacts.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PaidContactsPage } from './paid-contacts';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PaidContactsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PaidContactsPage),\r\n  ],\r\n})\r\nexport class PaidContactsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/paid-contacts/paid-contacts.module.ts"],"sourceRoot":""}