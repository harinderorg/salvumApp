{"version":3,"sources":["../../src/pages/model/model.ts","../../src/pages/model/model.module.ts"],"names":[],"mappings":"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","file":"75.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams ,ViewController, ToastController, LoadingController} from 'ionic-angular';\r\nimport {Http, Headers, RequestOptions} from '@angular/http';\r\nimport 'rxjs/Rx';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-model',\r\n  templateUrl: 'model.html',\r\n})\r\nexport class ModelPage {\r\n tags = '';\r\n allValidTags : any = [];\r\n sendArray = [];\r\n isEmailValid: Boolean = true;\r\n isEmailAlreadyExist = false;\r\n API_ENDPOINT_URL : any = localStorage.getItem('API_ENDPOINT_URL');\r\n specContInvition = 'sendInvition';\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,public viewCtrl: ViewController,public toastCtrl: ToastController,public http:Http, public loadingCtrl : LoadingController) {\r\n     this.http = http;\r\n  };\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  };\r\n\r\n  onInput(){\r\n    this.isEmailValid = true;\r\n  }\r\n\r\n  validateEmail(email){ \r\n    if(this.tags != ''){\r\n      var tagArray = [];\r\n      var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n      if (reg.test(email) == false){\r\n        tagArray.push(email);\r\n        this.isEmailValid = false;\r\n        this.isEmailAlreadyExist = false;\r\n      }else{\r\n        this.isEmailValid = true;\r\n        if(this.sendArray.indexOf(email) == -1) {\r\n          this.sendArray.push(email);\r\n          this.tags = '';\r\n          this.isEmailAlreadyExist = false;\r\n        }else{\r\n          this.isEmailAlreadyExist = true;\r\n        }\r\n      }\r\n    }\r\n    \r\n  };\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  submit(email){\r\n    if(this.tags != ''){\r\n      if(this.verifyTag(email)){\r\n        this.isEmailValid = true;\r\n        if(this.sendArray.indexOf(email) == -1) {\r\n          this.sendArray.push(email);\r\n          this.tags = '';\r\n          this.isEmailAlreadyExist = false;\r\n          if(this.sendArray.length == 0){\r\n            let toast = this.toastCtrl.create({\r\n              message: 'Please enter atleast one tag.',\r\n              duration: 3000\r\n            });\r\n            toast.present();\r\n          }else{\r\n            this.sendInvitation();\r\n          }\r\n        }else{\r\n          this.isEmailAlreadyExist = true;\r\n        }\r\n      }\r\n    }else{\r\n      if(this.sendArray.length == 0){\r\n        let toast = this.toastCtrl.create({\r\n          message: 'Please enter atleast one tag.',\r\n          duration: 3000\r\n        });\r\n        toast.present();\r\n      }else{\r\n        this.sendInvitation();\r\n      }\r\n    }\r\n  }\r\n\r\n  sendInvitation(){\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    let body = JSON.stringify({'email': this.sendArray, 'userId': localStorage.getItem('userinfo') });\r\n    let headers = new Headers({ 'Content-Type': 'application/json' });\r\n    let options = new RequestOptions({ headers: headers });\r\n    return this.http.post(this.API_ENDPOINT_URL+this.specContInvition, body, options)\r\n        .map(res => res.json())\r\n        .subscribe(data => { \r\n        loading.dismissAll();\r\n        this.tags = '';\r\n        this.sendArray = [];\r\n          if(data.status == 0){\r\n            if(data.error == 'You can\\'t invite by yourself.' || data.error == 'already connected with user.' || data.error == 'You can\\'t invite by yourself.already connected with user.'){\r\n              let toast = this.toastCtrl.create({\r\n                message: data.error,\r\n                duration: 10000,\r\n                position: 'top',\r\n                cssClass: 'danger'\r\n              });\r\n              toast.present(); \r\n            }else{\r\n              let toast = this.toastCtrl.create({\r\n                message: data.error,\r\n                duration: 10000,\r\n                position: 'top',\r\n                cssClass: 'success'\r\n              });\r\n              toast.present();\r\n              this.viewCtrl.dismiss();\r\n            }\r\n            \r\n          }else{\r\n            var msg = '';\r\n            for(var i=0; i < this.sendArray.length; i++){\r\n              if(msg == ''){\r\n                msg = this.sendArray[i];\r\n              }else{\r\n                msg = msg + ',' + this.sendArray[i]\r\n              }\r\n            }\r\n            let toast = this.toastCtrl.create({\r\n              message: 'Invitation Send on this' + ' '+ msg,\r\n              duration: 10000,\r\n              position: 'top',\r\n              cssClass: 'success'\r\n            });\r\n            toast.present(); \r\n            this.viewCtrl.dismiss();\r\n            this.navCtrl.push('InvitePage');\r\n        }  \r\n     },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError('1');\r\n      });\r\n      \r\n  }\r\n\r\n  verifyTag(tag){\r\n    var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n      if (reg.test(tag) == false){ \r\n        return false;\r\n      }else{\r\n        return true;\r\n      }  \r\n  }  \r\n\r\n  removeEmailAddress(index){\r\n    this.sendArray.splice(index, 1);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/model/model.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModelPage } from './model';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModelPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ModelPage),\r\n  ],\r\n})\r\nexport class ModelPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/model/model.module.ts"],"sourceRoot":""}