{"version":3,"sources":["../../src/pages/members/members.ts","../../src/pages/members/members.module.ts"],"names":[],"mappings":"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","file":"77.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, ToastController, NavController, NavParams, LoadingController } from 'ionic-angular';\r\nimport {Http} from '@angular/http';\r\nimport 'rxjs/Rx';\r\nimport { MemberserviceProvider } from '../../providers/memberservice/memberservice';\r\nimport { Socket } from 'ng-socket-io';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-members',\r\n  templateUrl: 'members.html',\r\n  providers: [MemberserviceProvider]\r\n})\r\nexport class MembersPage {\r\n  items: any;\r\n  level: any;\r\n  sendData = {};\r\n  filterValue = '';\r\n  resend = {}\r\n  userId : string;\r\n  isBrowser:any;\r\n  baseUrl:String = localStorage.getItem('baseUrl');\r\n  APIURL:String = localStorage.getItem('APIURL');\r\n  allMembers:any = [];\r\n  constructor(public navCtrl: NavController, public navParams: NavParams,public http:Http,public toastCtrl: ToastController,public loadingCtrl: LoadingController,public MemberserviceProvider: MemberserviceProvider,private socket: Socket) { \r\n   this.http = http;\r\n  };\r\n\r\n  ionViewDidLoad() {\r\n    this.isBrowser = localStorage.getItem('isBrowser');\r\n    this.level = '1';\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    this.userId = localStorage.getItem('userinfo');\r\n    this.MemberserviceProvider.membersList(this.userId).subscribe((data)=>{\r\n      //console.log(data);\r\n      loading.dismissAll()\r\n      //console.log(data);\r\n      this.items = data;\r\n      this.allMembers = data;\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  };\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  chanegLevel(selectedValue: any){\r\n    this.level = selectedValue\r\n  };    \r\n\r\n  sendInvitation (items, index){\r\n     this.sendData = {\r\n       level : this.level,\r\n       mails : items,\r\n       senderId : localStorage.getItem('userinfo'),\r\n       senderName : localStorage.getItem('userName'),\r\n       senderSetLevel: this.level,\r\n       status : '1',\r\n       info:'0',\r\n       send:'0',\r\n       index:'0',\r\n       share:'0',\r\n       member_id: items.member_id\r\n     }\r\n      this.MemberserviceProvider.sendInvitation(this.sendData).subscribe((data)=>{\r\n        this.socket.emit('new_notification', data.notify);\r\n        let toast = this.toastCtrl.create({\r\n            message: 'Invitation mail has been sent.',\r\n            duration: 3000,\r\n            position: 'top',\r\n            cssClass: 'success'\r\n          });\r\n        this.items[index].memberstatus = 1;\r\n        this.items[index].senderId = this.userId;\r\n          toast.present();\r\n          this.userId = localStorage.getItem('userinfo');\r\n          this.MemberserviceProvider.membersList(this.userId).subscribe((data)=>{\r\n            this.allMembers = data;\r\n            if (this.filterValue && this.filterValue != '') {\r\n              this.items = this.allMembers.filter((item) => {\r\n                //console.log(item.name);\r\n                return (item.email.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1);\r\n              })\r\n            }else{\r\n              this.items = this.allMembers;\r\n            }\r\n          },\r\n          err => {\r\n              this.showTechnicalError();\r\n          });\r\n        },\r\n        err => {\r\n            this.showTechnicalError('1');\r\n        });\r\n  };\r\n\r\n  resendInvitation(items){\r\n    this.resend = {\r\n      level : this.level,\r\n      mails : items,\r\n      senderName : localStorage.getItem('userName')\r\n    };\r\n    this.MemberserviceProvider.resendInvitation(this.resend).subscribe((data)=>{\r\n      //console.log(data);\r\n      this.socket.emit('new_notification', data.notify);\r\n      let toast = this.toastCtrl.create({\r\n          message: 'Invitation Mail Send.',\r\n          duration: 3000,\r\n          position: 'top',\r\n          cssClass: 'success'\r\n        });\r\n      toast.present(); \r\n      const loading = this.loadingCtrl.create({});\r\n      loading.present();\r\n      this.userId = localStorage.getItem('userinfo');\r\n      this.MemberserviceProvider.membersList(this.userId).subscribe((data)=>{\r\n        //console.log(data);\r\n        loading.dismissAll();\r\n        //console.log(data);\r\n        this.allMembers = data;\r\n        if (this.filterValue && this.filterValue != '') {\r\n          this.items = this.allMembers.filter((item) => {\r\n            //console.log(item.name);\r\n            return (item.email.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1);\r\n          })\r\n        }else{\r\n          this.items = this.allMembers;\r\n        }\r\n      },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError();\r\n      });\r\n    },\r\n    err => {\r\n        this.showTechnicalError();\r\n    });\r\n  };\r\n\r\n  setFilteredItems(ev) {\r\n    let val = ev;\r\n    this.filterValue = val;\r\n    // if the value is an empty string don't filter the items\r\n    if (val && val != '') {\r\n      this.items = this.allMembers.filter((item) => {\r\n        //console.log(item.name);\r\n        return (item.email.toLowerCase().indexOf(val.toLowerCase()) > -1);\r\n      })\r\n    }else{\r\n      this.items = this.allMembers;\r\n    }\r\n  };\r\n\r\n  acceptContact(contact){\r\n    var data = {\r\n      memberId : contact.memberId,\r\n      memberstatus : '2',\r\n    };\r\n\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    return this.MemberserviceProvider.acceptInvitation(data).subscribe(data => {\r\n      let toast = this.toastCtrl.create({\r\n          message: 'Invitation has been accpted.',\r\n          duration: 3000,\r\n          position: 'top',\r\n          cssClass: 'success'\r\n       });\r\n      toast.present();\r\n      this.userId = localStorage.getItem('userinfo');\r\n      this.MemberserviceProvider.membersList(this.userId).subscribe((data)=>{\r\n        //console.log(data);\r\n        loading.dismissAll();\r\n        //console.log(data);\r\n        this.allMembers = data;\r\n        if (this.filterValue && this.filterValue != '') {\r\n          this.items = this.allMembers.filter((item) => {\r\n            //console.log(item.name);\r\n            return (item.email.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1);\r\n          })\r\n        }else{\r\n          this.items = this.allMembers;\r\n        }\r\n      });\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError('1');\r\n    });\r\n  };\r\n\r\n  rejectContact(contact){\r\n    var data = {\r\n      memberId : contact.memberId,\r\n      memberstatus : 0,\r\n      'action': 'reject'\r\n    };\r\n\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    return this.MemberserviceProvider.acceptInvitation(data).subscribe(data => {\r\n      // var newdata = data;\r\n      this.userId = localStorage.getItem('userinfo');\r\n      this.MemberserviceProvider.membersList(this.userId).subscribe((data)=>{\r\n        //console.log(data);\r\n        loading.dismissAll();\r\n        //console.log(data);\r\n        this.allMembers = data;\r\n        if (this.filterValue && this.filterValue != '') {\r\n          this.items = this.allMembers.filter((item) => {\r\n            //console.log(item.name);\r\n            return (item.email.toLowerCase().indexOf(this.filterValue.toLowerCase()) > -1);\r\n          })\r\n        }else{\r\n          this.items = this.allMembers;\r\n        }\r\n      },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError();\r\n      });\r\n      let toast = this.toastCtrl.create({\r\n          message: 'Invitation has been declined.',\r\n          duration: 3000,\r\n          position: 'top',\r\n          cssClass: 'success'\r\n       });\r\n      toast.present();\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError('1');\r\n    });\r\n  };\r\n\r\n  root(){\r\n    this.navCtrl.setRoot('DashboardPage');\r\n  };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/members/members.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MembersPage } from './members';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MembersPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MembersPage),\r\n  ],\r\n})\r\nexport class MembersPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/members/members.module.ts"],"sourceRoot":""}