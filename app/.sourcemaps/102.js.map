{"version":3,"sources":["../../src/pages/addwallet/modals.ts","../../src/pages/addwallet/modals.module.ts"],"names":[],"mappings":"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","file":"102.js","sourcesContent":["import {Component} from '@angular/core';\r\nimport {IonicPage, ModalController,ViewController, NavParams,NavController,LoadingController, ToastController} from 'ionic-angular';\r\nimport { Http, Headers, RequestOptions} from '@angular/http';\r\nimport 'rxjs/Rx';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@IonicPage()\r\n@Component({\r\n    selector: 'page-modals',\r\n    templateUrl: 'modals.html',\r\n})\r\nexport class ModalsPage {\r\n\r\n    cardName: string;\r\n    cardHolderName: string;\r\n    cardNumber: string;\r\n    cvv: string;\r\n    expiryDate: string;\r\n    cardType: string;\r\n    level: string;\r\n    API_ENDPOINT_URL : any = localStorage.getItem('API_ENDPOINT_URL');\r\n    data: Object = {};\r\n    extnal: {}\r\n    propertiesURL = 'addwallet';\r\n    userId: any;\r\n    all_levels: any = [];\r\n    allowed_levels: any = [];\r\n    constructor(public modalCtrl: ModalController, public viewCtrl: ViewController, public navParams: NavParams, public http: Http, public toastCtrl: ToastController, public navCtrl: NavController, public loadingCtrl: LoadingController) {\r\n        this.http = http;\r\n        this.userId = localStorage.getItem('userinfo');\r\n        this.all_levels = JSON.parse(localStorage.getItem('alllevel'));\r\n\r\n        if (this.all_levels && this.all_levels.length > 0) {\r\n            this.all_levels.forEach((value) => {\r\n\r\n                this.allowed_levels = [];\r\n                var decrypted = CryptoJS.AES.decrypt(value, this.userId);\r\n                var i;\r\n                if (decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level1') {\r\n                    this.allowed_levels = [];\r\n                    for (i = 1; i <= 1; i++) {\r\n                        this.allowed_levels.push(i);\r\n                    }\r\n                } else if (decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level2') {\r\n                    this.allowed_levels = [];\r\n                    for (i = 1; i <= 2; i++) {\r\n                        this.allowed_levels.push(i);\r\n                    }\r\n                } else if (decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level3') {\r\n                    this.allowed_levels = [];\r\n                    for (i = 1; i <= 3; i++) {\r\n                        this.allowed_levels.push(i);\r\n                    }\r\n                } else if (decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level4') {\r\n                    this.allowed_levels = [];\r\n                    for (i = 1; i <= 4; i++) {\r\n                        this.allowed_levels.push(i);\r\n                    }\r\n                } else if (decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level0') {\r\n                    this.allowed_levels = [];\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    ionViewDidLoad() {\r\n    }\r\n    presentModal(myEvent1) {\r\n        let modal = this.modalCtrl.create(ModalsPage);\r\n        modal.present({\r\n            ev: myEvent1\r\n        });\r\n\r\n\r\n    }\r\n    dismiss() {\r\n        this.viewCtrl.dismiss();\r\n    }\r\n\r\n    login() {\r\n\r\n        if (this.cardHolderName == undefined || this.cardHolderName == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please enter card holdername.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else if (this.cardNumber == undefined || this.cardNumber == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please enter card number.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else if (this.cvv == undefined || this.cvv == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please enter cvv number.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else if (this.expiryDate == undefined || this.expiryDate == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please select expiry date.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else if (this.cardType == undefined || this.cardType == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please select card type.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else if (this.level == undefined || this.level == '') {\r\n            let toast = this.toastCtrl.create({\r\n                message: 'Please select level.',\r\n                duration: 3000,\r\n                cssClass: 'danger',\r\n                position: 'top'\r\n            });\r\n            toast.present();\r\n\r\n        } else {\r\n            this.data = {\r\n                cardName: this.cardName,\r\n                cardHolderName: this.cardHolderName,\r\n                cardNumber: this.cardNumber,\r\n                cvv: this.cvv,\r\n                expiryDate: this.expiryDate,\r\n                cardType: this.cardType,\r\n                level: this.level\r\n\r\n            }\r\n            const loading = this.loadingCtrl.create({});\r\n            loading.present();\r\n\r\n            this.extnal = {\r\n                'userId': localStorage.getItem('userinfo'),\r\n                'walletData': this.data\r\n            }\r\n            console.log(this.data);\r\n            let body = JSON.stringify(this.extnal);\r\n            let headers = new Headers({\r\n                'Content-Type': 'application/json'\r\n            });\r\n            let options = new RequestOptions({\r\n                headers: headers\r\n            });\r\n            return this.http.post(this.API_ENDPOINT_URL+this.propertiesURL, body, options)\r\n                .map(res => res.json())\r\n                .subscribe(data => {\r\n                    loading.dismissAll()\r\n                    console.log(data);\r\n                    let walletData = data\r\n\r\n                    let toast = this.toastCtrl.create({\r\n                        message: 'Wallet has been added successfully.',\r\n                        duration: 3000,\r\n                        cssClass: 'success',\r\n                        position: 'top'\r\n                    });\r\n                    toast.present();\r\n                    this.navCtrl.push('WalletinnerPage', walletData);\r\n                },\r\n                  err => {\r\n                      loading.dismissAll();\r\n                      this.showTechnicalError('1');\r\n                  });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    showTechnicalError(type = null){\r\n        var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n        let toast = this.toastCtrl.create({\r\n            message: 'Technical error, Please '+msg,\r\n            duration: 3000,\r\n            position: 'top',\r\n            cssClass: 'info'\r\n          });\r\n          toast.present();\r\n      }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addwallet/modals.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ModalsPage } from './modals';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ModalsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ModalsPage),\r\n  ],\r\n})\r\nexport class ModalsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addwallet/modals.module.ts"],"sourceRoot":""}