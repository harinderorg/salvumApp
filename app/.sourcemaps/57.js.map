{"version":3,"sources":["../../src/pages/trade-dashboard/trade-dashboard.ts","../../src/pages/trade-dashboard/trade-dashboard.module.ts"],"names":[],"mappings":"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","file":"57.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, AlertController,ToastController,LoadingController, MenuController, ViewController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-trade-dashboard',\r\n  templateUrl: 'trade-dashboard.html',\r\n  providers: [CompanyProvider]\r\n})\r\nexport class TradeDashboardPage {\r\n  jobId:string;\r\n  from_smail:any;\r\n  userId:any;\r\n\tis_any_trade_posted:any = '0';\r\n  total_contacts:string = '0';\r\n  total_trades:string = '0';\r\n  total_photos:string = '0';\r\n  total_docs:string = '0';\r\n  total_adendums:string = '0';\r\n  total_bids:string = '0';\r\n  total_downloads:string = '0';\r\n  total_contracts:string = '0';\r\n  total_transmittals:string = '0';\r\n  total_smails:string = '0';\r\n  total_emails:string = '0';\r\n  total_rfis:string = '0';\r\n  isBrowser = localStorage.getItem('isBrowser');\r\n  active_job_breadcrumb = localStorage.getItem('active_job_breadcrumb');\r\n  constructor(public modalCtrl: ModalController, public navCtrl: NavController, public navParams: NavParams, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController, public menuCtrl: MenuController, public viewCtrl: ViewController ) {\r\n\t  this.menuCtrl.enable(true);\r\n    this.jobId = navParams.get('jobId');\r\n    if(this.jobId != undefined){\r\n      if(this.jobId != localStorage.getItem('currentJobId')){\r\n        localStorage.removeItem('saved_filter_list');\r\n        localStorage.removeItem('saved_filter_trades');\r\n        localStorage.removeItem('saved_filter_trade_names');\r\n      }\r\n    }\r\n    this.from_smail = navParams.get('from_smail');\r\n    if(navParams.get('job_title') != undefined){\r\n      localStorage.setItem('active_job_breadcrumb',navParams.get('job_title'));\r\n      this.active_job_breadcrumb = navParams.get('job_title');\r\n    }\r\n    if(navParams.get('back') == '1')\r\n    {\r\n      this.jobId = localStorage.getItem('currentJobId');\r\n    }\r\n    else\r\n    {\r\n      if(this.jobId == undefined)\r\n      {\r\n        var localJobId = localStorage.getItem('currentJobId');\r\n        if(localJobId != '' && localJobId != undefined && localJobId != null){\r\n          this.jobId = localJobId;\r\n        }\r\n        else{\r\n          this.navCtrl.push('ManagejobPage',{\r\n            is_direct : '0'\r\n          });\r\n        }\r\n      }\r\n      else\r\n      {\r\n        localStorage.setItem('currentJobId',this.jobId); \r\n      } \r\n    } \r\n\r\n  }\r\n\r\n  ionViewDidEnter(){\r\n    this.userId = localStorage.getItem('userinfo');\r\n    this.loadStats();\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  loadStats()\r\n  {\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    this.companyProvider.jobDashboard(this.jobId,this.userId).subscribe((dashboard)=>{\r\n      loading.dismissAll();\r\n      this.is_any_trade_posted = dashboard[0].is_any_trade_posted;\r\n      this.total_contacts = dashboard[0].contacts;\r\n      this.total_trades = dashboard[0].trades;\r\n      this.total_photos = dashboard[0].photos;\r\n      this.total_docs = dashboard[0].docs;\r\n      this.total_adendums = dashboard[0].adendums;\r\n      this.total_bids = dashboard[0].bids;\r\n      this.total_downloads = dashboard[0].downloads; \r\n      this.total_contracts = dashboard[0].contracts; \r\n      this.total_transmittals = dashboard[0].transmittals; \r\n      this.total_smails = dashboard[0].smails; \r\n      this.total_emails = dashboard[0].emails; \r\n      this.total_rfis = dashboard[0].rfis; \r\n\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  tradeContacts()\r\n  {\r\n    this.navCtrl.push('TradeContactsPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goTotrades()\r\n  {\r\n    this.navCtrl.push('TradePage', {job_id : this.jobId});\r\n  }\r\n\r\n  goToAdendums()\r\n  {\r\n    this.navCtrl.push('AdendumPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToBids()\r\n  {\r\n    this.navCtrl.push('ViewbidPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToDownloads()\r\n  {\r\n    this.navCtrl.push('DownloadsPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToEmails()\r\n  {\r\n    this.navCtrl.push('RfiMailsPage', {jobId : this.jobId, emails : '1'});\r\n  }\r\n\r\n  goToSmails()\r\n  {\r\n    // this.navCtrl.push('SmailInboxPage', {jobId : this.jobId, job_smail : '1'});\r\n    this.navCtrl.push('RfiMailsPage', {jobId : this.jobId, emails : '0'});\r\n  }\r\n\r\n  goToContracts()\r\n  {\r\n    this.navCtrl.push('ContractsPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToTransmittals()\r\n  {\r\n    this.navCtrl.push('TransmittalsPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToRFIs()\r\n  {\r\n    this.navCtrl.push('RfisPage', {jobId : this.jobId});\r\n  }\r\n\r\n  goToFiles(type)\r\n  {\r\n    this.navCtrl.push('JobphotosPage', {jobId : this.jobId, file_type : type});\r\n  }\r\n\r\n  root(){\r\n    this.navCtrl.setRoot('DashboardPage');\r\n  };\r\n  \r\n  goToJobs(){\r\n    this.navCtrl.push('ManagejobPage',{\r\n    is_direct : '0'\r\n    });\r\n  };\r\n\r\n  backToSmail(){\r\n    this.navCtrl.push('SmailInboxPage',{\r\n      from_job : '1',\r\n      jobId : this.jobId\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trade-dashboard/trade-dashboard.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TradeDashboardPage } from './trade-dashboard';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TradeDashboardPage\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(TradeDashboardPage),\r\n  ],\r\n})\r\nexport class TradeDashboardPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/trade-dashboard/trade-dashboard.module.ts"],"sourceRoot":""}