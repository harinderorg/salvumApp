{"version":3,"sources":["../../src/pages/share-job-contacts/share-job-contacts.ts","../../src/pages/share-job-contacts/share-job-contacts.module.ts"],"names":[],"mappings":"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","file":"66.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams , ViewController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-share-job-contacts',\r\n  templateUrl: 'share-job-contacts.html',\r\n  providers: [CompanyProvider] \r\n})\r\nexport class ShareJobContactsPage {\r\nall_contacts:any = [];\r\nselected_contacts:any = [];\r\nuserId:any;\r\ncompanyId:any;\r\nenable_level1:any;\r\nenable_level2:any;\r\nenable_level3:any;\r\nenable_level4:any;\r\nallowed_levels:any;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams , public viewCtrl: ViewController, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController) {\r\n  \tvar All_contacts = [];\r\n    this.userId = localStorage.getItem('userinfo');\r\n  \tthis.companyId = navParams.get('companyId');\r\n\r\n  \tthis.allowed_levels = [];\r\n    var levels_array = JSON.parse(localStorage.getItem('alllevel'));\r\n    if(levels_array){\r\n      levels_array.forEach((value) => {\r\n        var decrypted = CryptoJS.AES.decrypt(value, this.userId);\r\n        if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level1'){\r\n          this.enable_level1  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level2'){\r\n          this.enable_level2  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level3'){\r\n          this.enable_level3  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level4'){\r\n          this.enable_level4  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level0'){\r\n          this.enable_level1 = 'true';\r\n          this.enable_level2 = 'true';\r\n          this.enable_level3 = 'true';\r\n          this.enable_level4 = 'true';\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.enable_level1 == 'false') \r\n    {\r\n      this.allowed_levels.push('1');\r\n    }\r\n    if(this.enable_level2 == 'false')\r\n    {\r\n      this.allowed_levels.push('2');\r\n    }\r\n    if(this.enable_level3 == 'false')\r\n    {\r\n      this.allowed_levels.push('3');\r\n    }\r\n    if(this.enable_level4 == 'false')\r\n    {\r\n      this.allowed_levels.push('4');\r\n    }\r\n\r\n    var allowed_levels = this.allowed_levels;\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    this.companyProvider.getAllEmployees(this.companyId,this.userId).subscribe((allEmployees)=>{\r\n      var Emps = [];\r\n      allEmployees.forEach(function(emp){\r\n        if(emp.status == '1')\r\n        {\r\n          Emps.push(emp.toId);\r\n        }\r\n      });\r\n        this.companyProvider.getContactList(this.userId).subscribe((allContacts)=>{\r\n          allContacts.forEach(function(data){\r\n            if(data.memberstatus == '2' && Emps.indexOf(data.userId) >=0 && data.senderSetLevelStatus == '1' && data.recevierSetLevelStatus == '1') //&& data.amount > 0\r\n            {\r\n              if(allowed_levels.indexOf(data.reciverSetLevel) >= 0)\r\n              {\r\n                var obj = {\r\n                  email : data.email,\r\n                  memberstatus : data.memberstatus,\r\n                  name : data.name,\r\n                  userId : data.userId,\r\n                  privilege : '0'\r\n                };\r\n                All_contacts.push(obj);\r\n              }\r\n            }\r\n          });\r\n          this.all_contacts = All_contacts;\r\n          if(navParams.get('already') != undefined)\r\n          {\r\n            All_contacts = [];\r\n            var already_added = navParams.get('already');\r\n            this.all_contacts.forEach(function(value){\r\n              if(already_added.indexOf(value.email) == -1)\r\n              {\r\n                All_contacts.push(value);\r\n              }\r\n            });\r\n            this.all_contacts = All_contacts;\r\n          }\r\n          loading.dismissAll();\r\n        },\r\n        err => {\r\n            loading.dismissAll();\r\n            this.showTechnicalError();\r\n        });\r\n      },\r\n      err => {\r\n          loading.dismissAll();\r\n          this.showTechnicalError();\r\n      });\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  dismiss()\r\n  {\r\n  \tthis.viewCtrl.dismiss({});\r\n  }\r\n  addContacts()\r\n  {\r\n    if(this.selected_contacts.length == 0)\r\n    {\r\n      this.dismiss();\r\n    }\r\n\telse\r\n    {\r\n      this.viewCtrl.dismiss(this.selected_contacts);\r\n    }\r\n  }\r\n  insertContactToArray(event,contact){\r\n  \t\tif(event.checked == true)\r\n  \t\t{\r\n  \t\t\tthis.selected_contacts.push(contact);\r\n  \t\t}\r\n  \t\telse\r\n  \t\t{\r\n  \t\t\tthis.removeArray(this.selected_contacts, contact);\r\n  \t\t}\r\n\t}\r\n\tremoveArray(arr,what) {\r\n\t   var a = arguments, L = a.length, ax;\r\n\t    while (L > 1 && arr.length) {\r\n\t        what = a[--L];\r\n\t        while ((ax= arr.indexOf(what)) !== -1) {\r\n\t            arr.splice(ax, 1);\r\n\t        }\r\n\t    }\r\n\t    return arr;\r\n\t}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-job-contacts/share-job-contacts.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ShareJobContactsPage } from './share-job-contacts';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ShareJobContactsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ShareJobContactsPage),\r\n  ],\r\n})\r\nexport class ShareJobContactsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/share-job-contacts/share-job-contacts.module.ts"],"sourceRoot":""}