{"version":3,"sources":["../../src/pages/message/message.ts","../../src/pages/message/message.module.ts"],"names":[],"mappings":"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","file":"76.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ToastController, LoadingController } from 'ionic-angular';\r\nimport {Http, Headers, RequestOptions} from '@angular/http';\r\nimport 'rxjs/Rx';\r\nimport { ContactserviceProvider } from '../../providers/contactservice/contactservice';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-message',\r\n  templateUrl: 'message.html',\r\n  providers: [ContactserviceProvider]\r\n})\r\nexport class MessagePage {\r\nmessageArr: any;\r\nacceptInvitation = {};\r\nisBrowser:any;\r\nAPI_ENDPOINT_URL : any = localStorage.getItem('API_ENDPOINT_URL');\r\naccptInvitation = 'accptinvitation';\r\n  constructor(public navCtrl: NavController,public loadingCtrl: LoadingController, public navParams: NavParams,public http:Http, public toastCtrl: ToastController, public contactserviceProvider: ContactserviceProvider) {\r\n    this.isBrowser = localStorage.getItem('isBrowser');\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    this.contactserviceProvider.getAllNotifications(localStorage.getItem('userinfo'), 1).subscribe((all_files)=>{\r\n      this.messageArr = all_files.data;\r\n      loading.dismissAll();\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    // //this.messageArr  = this.navParams.data;\r\n    //   console.log(this.messageArr);\r\n    //  var userId = localStorage.getItem('userinfo')\r\n    //  let headers = new Headers({ 'Content-Type': 'application/json' });\r\n    //       let options = new RequestOptions({ headers: headers });\r\n    //       return this.http.get(this.messageData +'/' + userId, options).map(res => res.json()).subscribe(data => {\r\n    //           console.log(data);\r\n    //           this.messageArr = data;\r\n    //           })\r\n\r\n\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  accept(item){\r\n   this.acceptInvitation = {\r\n         memberId : item._id,\r\n         memberstatus : '2',\r\n      }\r\n        let body = JSON.stringify(this.acceptInvitation);\r\n         let headers = new Headers({ 'Content-Type': 'application/json' });\r\n         let options = new RequestOptions({ headers: headers });\r\n          return this.http.put(this.API_ENDPOINT_URL+this.accptInvitation, body, options)\r\n              .map(res => res.json())\r\n             .subscribe(data => {\r\n             var newdata = data;\r\n               let toast = this.toastCtrl.create({\r\n                    message: 'Invitation Accpted',\r\n                    duration: 3000\r\n                 });\r\n                toast.present();\r\n                this.navCtrl.push('DashboardPage' ,newdata) \r\n              },\r\n              err => {\r\n                  this.showTechnicalError('1');\r\n              });\r\n\r\n  }\r\n\r\n  decline(item){\r\n      this.acceptInvitation = {\r\n         memberId : item._id,\r\n         memberstatus : '0'\r\n      }\r\n        let body = JSON.stringify(this.acceptInvitation);\r\n         let headers = new Headers({ 'Content-Type': 'application/json' });\r\n         let options = new RequestOptions({ headers: headers });\r\n          return this.http.put(this.API_ENDPOINT_URL+this.accptInvitation, body, options)\r\n              .map(res => res.json())\r\n             .subscribe(data => {\r\n             var newdata = data;\r\n               let toast = this.toastCtrl.create({\r\n                    message: 'Invitation Decline',\r\n                    duration: 3000\r\n                 });\r\n                toast.present();\r\n                this.navCtrl.push('DashboardPage' ,newdata) \r\n              },\r\n              err => {\r\n                  this.showTechnicalError('1');\r\n              });\r\n\r\n  }\r\n  root(){\r\n    this.navCtrl.setRoot('DashboardPage');\r\n  };\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { MessagePage } from './message';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MessagePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(MessagePage),\r\n  ],\r\n})\r\nexport class MessagePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.module.ts"],"sourceRoot":""}