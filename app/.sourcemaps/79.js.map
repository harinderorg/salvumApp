{"version":3,"sources":["../../src/pages/jobfiles/jobfiles.ts","../../src/pages/jobfiles/jobfiles.module.ts"],"names":[],"mappings":"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","file":"79.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController, ToastController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as CryptoJS from 'crypto-js';\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-jobfiles',\r\n  templateUrl: 'jobfiles.html',\r\n  providers: [CompanyProvider]   \r\n})\r\nexport class JobfilesPage {    \r\nsorted_photos : any;\r\nall_photos : any;\r\nbreadcrums : any;\r\nrelated_files : any;\r\nfile_types : any;\r\nselected_files : any = [];\r\njob_id : any = 0;\r\ntrade_id : any = 0;\r\njobId : any;\r\nfolders : any;\r\nfile_path : any;\r\nisShared : any;\r\nonLevel : any;\r\nenable_level1 : any;\r\nenable_level2 : any;\r\nenable_level3 : any;\r\nenable_level4 : any;\r\nopened_levels : any;\r\nuserId : any = localStorage.getItem('userinfo');\r\nAPIURL : any = localStorage.getItem('APIURL');\r\nhas_thumbs : any;\r\nis_video : any;\r\njobs : any = [];\r\ntrades : any = [];\r\nshow_file_code : any;\r\nsingle_allowed : any;\r\nfile_code : any = 'O';\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController, public companyProvider: CompanyProvider, public loadingCtrl: LoadingController, public toastCtrl: ToastController) {\r\n  \tthis.file_types = ['txt','docx','mp3','mp4','php','ppt','pptx','psd','xls','xlsx','zip','doc','odt','png','jpg','jpeg','gif','pdf','csv']; \r\n    this.has_thumbs = ['png','jpg','jpeg','gif','mp4','mov','wmv','3gp','avi'];\r\n    this.is_video = ['mp4','mov','wmv','3gp','avi'];\r\n  \tthis.jobId = navParams.get('jobId');\r\n    this.isShared = navParams.get('isShared');\r\n    this.file_path = localStorage.getItem('current_file_path');\r\n    this.show_file_code = navParams.get('show_file_code');\r\n    this.file_code = navParams.get('fileCode');\r\n    this.single_allowed = navParams.get('single_allowed');\r\n  \tthis.getAllFiles();\r\n    // get open levels\r\n    this.opened_levels = [];\r\n\r\n    var levels_array = JSON.parse(localStorage.getItem('alllevel'));\r\n    if(levels_array){\r\n      levels_array.forEach((value) => {\r\n        var decrypted = CryptoJS.AES.decrypt(value, this.userId);\r\n        if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level1'){\r\n          this.enable_level1  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level2'){\r\n          this.enable_level2  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level3'){\r\n          this.enable_level3  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level4'){\r\n          this.enable_level4  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level0'){\r\n          this.enable_level1 = 'true';\r\n          this.enable_level2 = 'true';\r\n          this.enable_level3 = 'true';\r\n          this.enable_level4 = 'true';\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.enable_level1 == 'false') \r\n    {\r\n      this.opened_levels.push('1');\r\n    }\r\n    if(this.enable_level2 == 'false')\r\n    {\r\n      this.opened_levels.push('2');\r\n    }\r\n    if(this.enable_level3 == 'false')\r\n    {\r\n      this.opened_levels.push('3');\r\n    }\r\n    if(this.enable_level4 == 'false')\r\n    {\r\n      this.opened_levels.push('4');\r\n    }\r\n  }\r\n\r\n  getAllFiles(){ \r\n  \tthis.folders = '0';\r\n  \tlocalStorage.setItem('files_folder_path','directory/jobs_data');\r\n  \tthis.getBreadCrums();\r\n  \tconst loading = this.loadingCtrl.create({});\r\n    loading.present(); \r\n  \tthis.companyProvider.getJobFiles(this.jobId,'2',this.userId).subscribe((photos)=>{\r\n  \t\tloading.dismissAll()\r\n      this.all_photos = photos; \r\n\t  \tthis.sorted_photos = photos; \r\n      console.log(this.sorted_photos)\r\n      if(photos != ''){\r\n        var all_jobs = [];  \r\n        this.jobs = [];    \r\n        var self = this;\r\n        photos.forEach(function(job){\r\n          if(all_jobs.indexOf(job.jobId) == -1){\r\n            all_jobs.push(job.jobId);\r\n            self.jobs.push({\r\n              jobId: job.jobId,\r\n              job_title: job.job_title\r\n            })\r\n          }\r\n        })\r\n        this.getTrades();\r\n        if(this.job_id != 0){\r\n          this.changeJob(this.job_id);\r\n          if(this.trade_id != 0){\r\n            this.changeTrade(this.trade_id);\r\n          }\r\n        }\r\n        console.log(this.jobs)\r\n      }\r\n\t  },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  getTrades(){\r\n    var all_trades = [];\r\n    this.trades = [];\r\n    var self = this;\r\n    if(this.sorted_photos != '') {\r\n      // this.trade_id = 0;\r\n      this.sorted_photos.forEach(function(job){\r\n      if(all_trades.indexOf(job.tradeId) == -1){\r\n          all_trades.push(job.tradeId);\r\n          self.trades.push({\r\n            tradeId: job.tradeId,\r\n            trade_name: job.trade_name\r\n          })\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  changeJob(job_id){\r\n    if(job_id == 0){\r\n      this.getAllFiles();\r\n    }\r\n    else{\r\n      if(this.all_photos != '') {\r\n        var sorted = [];\r\n        this.all_photos.forEach(function(job){\r\n          if(job.jobId == job_id){\r\n            sorted.push(job);\r\n          }\r\n        })\r\n        this.sorted_photos = sorted;\r\n        this.getTrades();\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTrade(trade_id){\r\n    if(trade_id == 0){\r\n      this.changeJob(this.job_id);\r\n    }\r\n    else{\r\n      if(this.all_photos != '') {\r\n        var sorted = [];\r\n        this.all_photos.forEach(function(trade){\r\n          if(trade.tradeId == trade_id){\r\n            sorted.push(trade);\r\n          }\r\n        })\r\n        this.sorted_photos = sorted;\r\n      }\r\n    }\r\n  }\r\n\r\n  getBreadCrums()\r\n  {\r\n    var file_path = localStorage.getItem('files_folder_path');\r\n      var breadcrums = [];\r\n      file_path.split('/').forEach(function(bread){\r\n        breadcrums.push(bread);\r\n      });\r\n      this.breadcrums = breadcrums;\r\n  }\r\n\r\n  clickFolder(file_name)\r\n  {\r\n  \tif(file_name.search('____') == -1)\r\n  \t{\r\n  \t\tthis.folders = '1';\r\n  \t\tlocalStorage.setItem('files_folder_path','directory/jobs_data/'+file_name);\r\n  \t\tthis.getRelatedFiles();\r\n  \t}\r\n  }\r\n\r\n  clickBreadcrumb(clicked_bread) \r\n  {\r\n  \tvar current_path = localStorage.getItem('files_folder_path');\r\n  \tif(current_path.search(clicked_bread) >= 0)\r\n    {\r\n        var file_path = current_path.split(clicked_bread)[0];\r\n        file_path = file_path+clicked_bread;\r\n        localStorage.setItem('files_folder_path',file_path);\r\n        this.getRelatedFiles();\r\n    }\r\n  }\r\n\r\n  openIt(filePath,fileType)\r\n  {\r\n  \tif(fileType == 'directory')\r\n  \t{\r\n  \t\tlocalStorage.setItem('files_folder_path',filePath);\r\n  \t\tthis.getRelatedFiles();\r\n  \t}\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  getRelatedFiles(){\r\n  \tconst loading = this.loadingCtrl.create({});\r\n    loading.present(); \r\n    this.getBreadCrums();\r\n  \tthis.companyProvider.getDirectoryFiles(localStorage.getItem('files_folder_path')).subscribe((related_files)=>{\r\n    \tif(related_files.data != null)\r\n    \t{\r\n        \tthis.related_files = related_files.data.children; \r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tthis.related_files = [];\r\n    \t}\r\n      console.log(this.related_files)\r\n    \tloading.dismissAll();\r\n    },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  dismiss(){\r\n  \tthis.viewCtrl.dismiss();\r\n  }\r\n\r\n  insertFilesToArray(event,file){\r\n  if(event.checked == true)\r\n  {\r\n     this.selected_files.push(file);\r\n  }\r\n  else\r\n  {\r\n    this.removeArray(this.selected_files, file);\r\n  }\r\n  if(this.selected_files.length == 1 && this.single_allowed == '1'){\r\n    this.viewCtrl.dismiss(this.selected_files);\r\n  }\r\n }\r\n\r\n removeArray(arr,what) {\r\n     var a = arguments, L = a.length, ax;\r\n      while (L > 1 && arr.length) {\r\n          what = a[--L];\r\n          while ((ax= arr.indexOf(what)) !== -1) {\r\n              arr.splice(ax, 1);\r\n          }\r\n      }\r\n      return arr;\r\n  }\r\n\r\n addFiles(){\r\n  if(this.isShared == '1' && this.file_path == 'nopath'){\r\n    if(this.onLevel == undefined || this.onLevel == '' || this.onLevel == null){\r\n      let toast = this.toastCtrl.create({\r\n        message: 'Please select level.',\r\n        duration: 3000,\r\n        cssClass: 'danger',\r\n        position: 'top'\r\n       });\r\n       toast.present(); \r\n       return false;\r\n    }\r\n    localStorage.setItem('file_upload_level',this.onLevel);\r\n  }\r\n  if(this.show_file_code == '1'){\r\n    localStorage.setItem('sal_file_code',this.file_code);\r\n  }\r\n  this.viewCtrl.dismiss(this.selected_files);\r\n }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/jobfiles/jobfiles.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { JobfilesPage } from './jobfiles';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    JobfilesPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(JobfilesPage),\r\n  ],\r\n})\r\nexport class JobfilesPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/jobfiles/jobfiles.module.ts"],"sourceRoot":""}