{"version":3,"sources":["../../src/pages/groupslist/groupslist.ts","../../src/pages/groupslist/groupslist.module.ts"],"names":[],"mappings":"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","file":"83.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams , ViewController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as CryptoJS from 'crypto-js';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-groupslist',\r\n  templateUrl: 'groupslist.html',\r\n  providers: [CompanyProvider]\r\n})\r\nexport class GroupslistPage {\r\nallGroups : any;\r\nselected_groups : any = [];\r\nuserId : any = localStorage.getItem('userinfo');\r\nenable_level1:any;\r\nenable_level2:any;\r\nenable_level3:any;\r\nenable_level4:any;\r\nallowed_levels:any;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams , public viewCtrl: ViewController, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController) {\r\n\r\n  \tthis.allowed_levels = [];\r\n\r\n    var levels_array = JSON.parse(localStorage.getItem('alllevel'));\r\n    if(levels_array){\r\n      levels_array.forEach((value) => {\r\n        var decrypted = CryptoJS.AES.decrypt(value, this.userId);\r\n        if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level1'){\r\n          this.enable_level1  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level2'){\r\n          this.enable_level2  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level3'){\r\n          this.enable_level3  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level4'){\r\n          this.enable_level4  = 'false';\r\n        }else if(decrypted.toString(CryptoJS.enc.Utf8).split('#')[0] == 'level0'){\r\n          this.enable_level1 = 'true';\r\n          this.enable_level2 = 'true';\r\n          this.enable_level3 = 'true';\r\n          this.enable_level4 = 'true';\r\n        }\r\n      });\r\n    }\r\n\r\n    if(this.enable_level1 == 'false') \r\n    {\r\n      this.allowed_levels.push('1');\r\n    }\r\n    if(this.enable_level2 == 'false')\r\n    {\r\n      this.allowed_levels.push('2');\r\n    }\r\n    if(this.enable_level3 == 'false')\r\n    {\r\n      this.allowed_levels.push('3');\r\n    }\r\n    if(this.enable_level4 == 'false')\r\n    {\r\n      this.allowed_levels.push('4');\r\n    }\r\n    var allowed_levels = this.allowed_levels;\r\n\r\n  \tthis.companyProvider.getUserGroups(this.userId).subscribe((allGroups)=>{\r\n  \t\tthis.allGroups = allGroups;\r\n  \t\tif(allGroups != '')\r\n  \t\t{\r\n  \t\t\tvar LevelGroups = [];\r\n  \t\t\tallGroups.forEach(function(data){\r\n  \t\t\t\tif(allowed_levels.indexOf(data.userLevel) >= 0)\r\n\t\t        {\r\n\t\t          LevelGroups.push(data);\r\n\t\t        }\r\n  \t\t\t});\r\n  \t\t\tthis.allGroups = LevelGroups;\r\n  \t\t}\r\n  \t},\r\n    err => {\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  dismiss()\r\n  {\r\n  \tthis.viewCtrl.dismiss({});\r\n  }\r\n\r\n  addGroups()\r\n  {\r\n  \tthis.viewCtrl.dismiss(this.selected_groups);\r\n  }\r\n\r\n  insertGroupToArray(event,group){\r\n\tif(event.checked == true)\r\n\t{\r\n\t\tthis.selected_groups.push(group);\r\n\t}\r\n\telse\r\n\t{\r\n\t\tthis.removeArray(this.selected_groups, group);\r\n\t}\r\n\t}\r\n\r\n  removeArray(arr,what) {\r\n\t   var a = arguments, L = a.length, ax;\r\n\t    while (L > 1 && arr.length) {\r\n\t        what = a[--L];\r\n\t        while ((ax= arr.indexOf(what)) !== -1) {\r\n\t            arr.splice(ax, 1);\r\n\t        }\r\n\t    }\r\n\t    return arr;\r\n\t}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupslist/groupslist.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { GroupslistPage } from './groupslist';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    GroupslistPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(GroupslistPage),\r\n  ],\r\n})\r\nexport class GroupslistPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupslist/groupslist.module.ts"],"sourceRoot":""}