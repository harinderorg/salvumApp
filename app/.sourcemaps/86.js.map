{"version":3,"sources":["../../src/pages/extcont/extcont.ts","../../src/pages/extcont/extcont.module.ts"],"names":[],"mappings":"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","file":"86.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage,ToastController, NavController, NavParams, AlertController, LoadingController, Events} from 'ionic-angular';\r\n\r\nimport {Http, Headers, RequestOptions} from '@angular/http';\r\nimport 'rxjs/Rx';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-extcont', \r\n  templateUrl: 'extcont.html', \r\n})\r\nexport class ExtcontPage {\r\n  data: Array<{}>;\r\n finaldata : {};\r\n extnal : {};\r\n isBrowser:any;\r\n invititionMail : Array<any> = [];\r\n API_ENDPOINT_URL : any = localStorage.getItem('API_ENDPOINT_URL');\r\n  getContact='getContacts';\r\n  addExternalContacts = 'addContacts';\r\n  sendEmailInvition = 'sendInvition';\r\n  userId = localStorage.getItem('userinfo');\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, public http:Http, public toastCtrl: ToastController, public alertCtrl: AlertController,public loadingCtrl: LoadingController, public events: Events) {\r\n      this.http = http;\r\n      this.isBrowser = localStorage.getItem('isBrowser');\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    const loading = this.loadingCtrl.create({});\r\n    loading.present();\r\n    var userId = localStorage.getItem('userinfo');\r\n    let headers = new Headers({ 'Content-Type': 'application/json' });\r\n        let options = new RequestOptions({ headers: headers });\r\n        return this.http.get(this.API_ENDPOINT_URL+this.getContact + \"/\" + userId, options)\r\n            .map(res => res.json())\r\n            .subscribe(data => {\r\n              loading.dismissAll()\r\n            this.data = data.data;\r\n\r\n     },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  sendmail(mails){\r\n    if(this.invititionMail.length > 0){\r\n      for(let data of this.invititionMail) {\r\n        if(data == mails.externalContacts){\r\n          var index = this.invititionMail.findIndex(x => x == mails.externalContacts);\r\n          this.invititionMail.splice(index, 1);\r\n          console.log(this.invititionMail);\r\n          return false;\r\n        }\r\n      }\r\n    this.invititionMail.push(mails.externalContacts);\r\n    }else{\r\n      this.invititionMail.push(mails.externalContacts)\r\n    }\r\n  }\r\n\r\n   Invitation(){\r\n\t\t\tif(this.invititionMail.length == 0){\r\n\t\t\t\tlet toast = this.toastCtrl.create({\r\n\t\t\t        message: 'Please select atleast one checkbox',\r\n\t\t\t        duration: 3000,\r\n              cssClass: 'danger',\r\n              position: 'top'\r\n\t\t\t      });\r\n\t\t\t      toast.present();\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t      let headers = new Headers({ 'Content-Type': 'application/json' });\r\n\t\t\t      let options = new RequestOptions({ headers: headers });\r\n\t\t\t      return this.http.post(this.API_ENDPOINT_URL+this.sendEmailInvition, {'email': this.invititionMail, 'userId': this.userId}, options)\r\n\t\t\t          .map(res => res.json())\r\n\t\t\t          .subscribe(data => {\r\n\t\t\t           if(data.error != null){\r\n                  let toast = this.toastCtrl.create({\r\n                    message: data.error,\r\n                    duration: 3000,\r\n                    position: 'top'\r\n                  });\r\n                  toast.present(); \r\n                  this.invititionMail = [];\r\n                  this.ionViewDidLoad();\r\n                }else{\r\n                  let toast = this.toastCtrl.create({\r\n                    message: 'Invitation mail has been sent.',\r\n                    duration: 3000,\r\n                    cssClass: 'success',\r\n                    position: 'top'\r\n                  });\r\n                  toast.present(); \r\n                  this.invititionMail = [];\r\n                  this.ionViewDidLoad();\r\n                }\t\t\t         \r\n              },\r\n              err => {\r\n                  this.showTechnicalError('1');\r\n              });\r\n\t\t\t}\r\n  }\r\n\r\n  Import(){\r\n   this.navCtrl.push('InvitePage');\r\n\r\n  }\r\n\r\n\r\nAdd(){\r\n let prompt = this.alertCtrl.create({\r\n      title: 'Add External Contact',\r\n      inputs: [\r\n        {\r\n          name: 'email',\r\n          placeholder: 'Email',\r\n\r\n           type: 'text'\r\n        }\r\n      ],\r\n\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          handler: data => {\r\n            console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Add Contact',\r\n          handler: data => {\r\n\r\n\r\n            var reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n            // var str = data.email;\r\n            if (reg.test(data.email) == false) \r\n            {\r\n               let toast = this.toastCtrl.create({\r\n                          message: 'Please Enter Valid Email',\r\n                          duration: 3000,\r\n                          cssClass: 'danger',\r\n                          position: 'top'\r\n                        });\r\n                        toast.present(); \r\n                        return false;\r\n            }else if (data.email.includes(\",\") == true) \r\n            {\r\n               let toast = this.toastCtrl.create({\r\n                          message: 'Please Enter Valid Email',\r\n                          duration: 3000,\r\n                          cssClass: 'danger',\r\n                          position: 'top'\r\n                        });\r\n                        toast.present(); \r\n                        return false;\r\n            }else{\r\n              const loading = this.loadingCtrl.create({});\r\n              loading.present();\r\n            this.invititionMail = data.email;\r\n            this.extnal = {'userId':localStorage.getItem('userinfo'),\r\n             'extrnalContacts':this.invititionMail\r\n            }\r\n              let body = JSON.stringify(this.extnal);\r\n                let headers = new Headers({ 'Content-Type': 'application/json' });\r\n               let options = new RequestOptions({ headers: headers });\r\n                return this.http.post(this.API_ENDPOINT_URL+this.addExternalContacts, body, options)\r\n                    .map(res => res.json())\r\n                    .subscribe(data => {\r\n                    loading.dismissAll();\r\n                      this.ionViewDidLoad();\r\n                     this.invititionMail = [];\r\n                      if(data.status == 0){\r\n                        let toast = this.toastCtrl.create({\r\n                          message: 'External contact already exist.',\r\n                          duration: 3000,\r\n                          cssClass: 'danger',\r\n                          position: 'top'\r\n                        });\r\n                        toast.present(); \r\n                      }else if(data.status == 1){\r\n                        let toast = this.toastCtrl.create({\r\n                          message: 'Can\\'t invite yourself.',\r\n                          duration: 3000,\r\n                          cssClass: 'danger',\r\n                          position: 'top'\r\n                        });\r\n                        toast.present(); \r\n                      }else{\r\n                        let toast = this.toastCtrl.create({\r\n                          message: 'External contact saved successfully.',\r\n                          duration: 3000,\r\n                          cssClass: 'success',\r\n                          position: 'top'\r\n                        });\r\n                        toast.present(); \r\n                      }\r\n                    },\r\n                    err => {\r\n                        loading.dismissAll();\r\n                        this.showTechnicalError('1');\r\n                    });\r\n            }    \r\n          }\r\n        }\r\n      ]\r\n    })\r\n    prompt.present(); \r\n  };\r\n\r\n  root(){\r\n    this.navCtrl.setRoot('DashboardPage');\r\n  };\r\n\r\n  contacts(){\r\n    this.navCtrl.setRoot('ContactsPage');\r\n  };\r\n\r\n  deleteContact(item, index){\r\n\r\n    let alert = this.alertCtrl.create({\r\n        title: 'Delete External Contact',\r\n        message: 'Do you want to delete this external contact?',\r\n        buttons: [{\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          handler: () => {\r\n              console.log('Cancel clicked');\r\n          }\r\n        },\r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            const loading = this.loadingCtrl.create({});\r\n            let headers = new Headers({ 'Content-Type': 'application/json' });\r\n            let options = new RequestOptions({ headers: headers });\r\n            this.http.put(this.API_ENDPOINT_URL+this.addExternalContacts, {'_id': item._id }, options).map(res => res.json()).subscribe(data => {\r\n              loading.dismissAll();\r\n              let toast = this.toastCtrl.create({\r\n                message: 'External contact deleted successfully.',\r\n                duration: 3000,\r\n                cssClass: 'success',\r\n                position: 'top'\r\n              });\r\n              toast.present(); \r\n              this.data.splice(index,1);\r\n            },\r\n            err => {\r\n                loading.dismissAll();\r\n                this.showTechnicalError('1');\r\n            });\r\n          }\r\n        }]\r\n      });\r\n    alert.present();\r\n  };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/extcont/extcont.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ExtcontPage } from './extcont';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ExtcontPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(ExtcontPage),\r\n  ],\r\n})\r\nexport class ExtcontPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/extcont/extcont.module.ts"],"sourceRoot":""}