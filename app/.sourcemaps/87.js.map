{"version":3,"sources":["../../src/pages/engg-rfi/engg-rfi.ts","../../src/pages/engg-rfi/engg-rfi.module.ts"],"names":[],"mappings":"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","file":"87.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, ViewController, NavParams  , ModalController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as $ from 'jquery';\r\nimport { FileTransfer, FileTransferObject } from '@ionic-native/file-transfer';\r\nimport { File } from '@ionic-native/file';\r\n\r\n@IonicPage({\r\n\tname: 'engg-rfi-page',\r\n  \tsegment: 'EnggRFIs/bidding/:RfiEmailId',\r\n})\r\n@Component({\r\n  selector: 'page-engg-rfi',\r\n  templateUrl: 'engg-rfi.html',\r\n  providers: [CompanyProvider]\r\n})\r\nexport class EnggRfiPage {\r\nuserId:any;\r\nRfiEmailId:any;\r\nbidjobdetail:any;\r\nposted_by :any;\r\nposted_email :any;\r\nposted_image :any;\r\npm_name :any;\r\ntradeId :any;\r\npm_contact :any;\r\nbid_status :any;\r\njobId :any;\r\njob_number :any;\r\njob_name :any;\r\ntrade_name :any;\r\nsite_address :any;\r\ntrade_task :any;\r\ndownload_attachments :any;\r\njob_description :any;\r\ndescription :any;\r\nall_events :any;\r\napplied_bids :any;\r\ninvite_email :any;\r\nall_attachments :any;\r\nAPIURL :any;\r\nall_codeTypes :any;\r\nisBrowser:any;\r\nfromId:any;\r\npdf_link:any;\r\nis_all_answered:any;\r\nall_rfis:any;\r\ndateTime:any;\r\nisValid : any = '0';\r\ndownloaded_href : any = '#';\r\nbaseUrl : any = localStorage.getItem('baseUrl');\r\nconstructor(private transfer: FileTransfer, private file: File,public navCtrl: NavController, public viewCtrl: ViewController, public navParams: NavParams, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController,public modalCtrl: ModalController) {\r\n\tthis.isBrowser = localStorage.getItem('isBrowser');\r\n\tthis.RfiEmailId = navParams.get('RfiEmailId');\r\n\tthis.userId = localStorage.getItem('userinfo');\r\n\tthis.APIURL = localStorage.getItem('APIURL');\r\n\tthis.dateTime = new Date().getTime();\r\n\r\n\tthis.all_codeTypes = {\r\n      'C' : 'Contract',\r\n      'S' : 'Specification',\r\n      'D' : 'Drawing',\r\n      'O' : 'Other'\r\n    };\r\n\r\n    this.getRFIDetails();\r\n}\r\n\r\nshowTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\ngetRFIDetails(){\r\n\tconst loading = this.loadingCtrl.create({});\r\n\tloading.present();\r\n\tthis.companyProvider.getRFIEmailDetail(this.RfiEmailId).subscribe((RFIdetails)=>{\r\n\t\tif(RFIdetails == '')\r\n\t\t{\r\n\t\t\tthis.isValid = '2';\r\n\t\t\tlet toast = this.toastCtrl.create({\r\n\t            message: 'Invalid post.',\r\n\t            duration: 3000,\r\n\t            position: 'top',\r\n\t            cssClass: 'danger'\r\n\t           });\r\n           \ttoast.present(); \r\n\t\t\tloading.dismissAll();\r\n\t\t}\r\n\t  \telse\r\n\t  \t{\r\n\t  \t  this.isValid = '1';\r\n\t  \t  this.bidjobdetail = RFIdetails[0];\r\n\t\t  this.posted_by = this.bidjobdetail.posted_by;\r\n\t\t  this.posted_email = this.bidjobdetail.posted_email;\r\n\t\t  this.posted_image = this.bidjobdetail.posted_image;\r\n\t\t  this.jobId = this.bidjobdetail.jobId;\r\n\t\t  this.tradeId = this.bidjobdetail.tradeId;\r\n\t\t  this.pm_name = this.bidjobdetail.pm_name;\r\n\t\t  this.pm_contact = this.bidjobdetail.pm_contact;\r\n\t\t  this.job_number = this.bidjobdetail.job_number;\r\n\t\t  this.job_name = this.bidjobdetail.job_name;\r\n\t\t  this.trade_name = this.bidjobdetail.trade_name;\r\n\t\t  this.site_address = this.bidjobdetail.site_address;\r\n\t\t  this.trade_task = this.bidjobdetail.trade_task;\r\n\t\t  this.job_description = this.bidjobdetail.job_description;\r\n\t\t  this.invite_email = this.bidjobdetail.email;\r\n\t\t  this.pdf_link = this.bidjobdetail.pdf_link;\r\n\t\t  this.description = this.bidjobdetail.description;\r\n\t\t  this.all_rfis = this.bidjobdetail.all_rfis;\r\n\t\t  this.fromId = this.bidjobdetail.fromId;\r\n\t\t  this.is_all_answered = this.bidjobdetail.is_all_answered;\r\n\r\n\t\t  this.companyProvider.getTradeFiles(this.tradeId).subscribe((all_attachments)=>{\r\n\t      \tthis.all_attachments = all_attachments;\r\n\t      \tvar attachments = [];\r\n\t      \tif(this.all_attachments != '')\r\n\t      \t{\t\t\r\n\t      \t\tthis.all_attachments.forEach(function(data){\r\n\t      \t\t\tvar obj = {\r\n\t      \t\t\t\tsource : 'directory/jobs_data/'+data.file_name,\r\n\t      \t\t\t\ttarget : data.file_name.split('____').pop(-1)\r\n\t      \t\t\t}\r\n\t      \t\t\tattachments.push(obj);\r\n\t      \t\t})\r\n\t      \t}\r\n\t      \tthis.download_attachments = attachments;\r\n\t\t  \t},\r\n\t\t    err => {\r\n\t\t        loading.dismissAll();\r\n\t\t        this.showTechnicalError();\r\n\t\t    });\r\n\t\t  loading.dismissAll();\r\n\t  \t}\r\n\t},\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n}\r\n\r\nAnswerIt(index){\r\n  $(\".ansbtn\"+index).hide();\r\n  $(\".ans\"+index).show();\r\n}\r\n\r\ndownloadAndroid(url,name) {\r\n  let toast = this.toastCtrl.create({\r\n    message: 'Start downloading....',\r\n    duration: 3000,\r\n    position:'top',\r\n    cssClass: 'success'\r\n   });\r\n  toast.present();\r\n  const fileTransfer: FileTransferObject = this.transfer.create();\r\n  fileTransfer.download(url, this.file.externalRootDirectory + name.split('____').pop()).then((entry) => {\r\n    let toast = this.toastCtrl.create({\r\n        message: 'File downloaded.',\r\n        duration: 3000,\r\n        position:'top',\r\n        cssClass: 'success'\r\n       });\r\n\ttoast.present(); \r\n  }, (error) => {\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Error',\r\n        duration: 3000,\r\n        position:'top',\r\n        cssClass: 'danger'\r\n       });\r\n\ttoast.present(); \r\n  });\r\n}\r\n\r\nremoveAttach(index,indx){\r\n  \tthis.all_rfis[index].engg_answer_files.splice(indx,1);\r\n  }\r\n\r\n  addAttchs(rfiId,index){\r\n  \tvar self = this;\r\n    let modal = this.modalCtrl.create('UploadfilePage', {dateTime : this.dateTime, bid_upload : '1'});\r\n     modal.onDidDismiss(data => {\r\n     \tif(data != undefined && data != '')\r\n     \t{\r\n     \t\tif(data.length > 0)\r\n\t          {     \r\n\t           var dateTime = self.dateTime;\r\n\t           data.forEach(function(single_file){\r\n\t            if(single_file.isUploaded == true)\r\n\t            {\r\n\t                var file = dateTime+'____'+single_file._file.name;\r\n\t                file = file.replace(\" \", \"_\");\r\n\t                if(Array.isArray(self.all_rfis[index].engg_answer_files)){\r\n\t\t\t\t\t  \tself.all_rfis[index].engg_answer_files.push(file);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tvar arr = [];\r\n\t\t\t\t\t\tarr.push(file)\r\n\t\t\t\t\t\tself.all_rfis[index].engg_answer_files = arr;\r\n\t\t\t\t\t}\r\n\t            }\r\n\t           });\r\n\t          }\r\n     \t}\r\n     \t});\r\n     modal.present();\r\n  }\r\n\r\nreplyRFIEngg(){\r\n\tvar self = this;\r\n\tvar count = 0;\r\n\tthis.all_rfis.forEach(function(rfi){\r\n\t\tif(rfi.engg_answer != '' && rfi.engg_answer != undefined && rfi.engg_answer != null){\r\n\t\t\tcount = count + 1;\r\n\t\t\tif(count == self.all_rfis.length){\r\n\t\t\t\tself.submitReply();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tcount = count + 1;\r\n\t\t\tif(count == self.all_rfis.length){\r\n\t\t\t\tlet toast = self.toastCtrl.create({\r\n\t\t\t        message: 'Please answer atleast one RFI',\r\n\t\t\t        duration: 3000,\r\n\t\t\t        position:'top',\r\n\t\t\t        cssClass: 'danger'\r\n\t\t\t       });\r\n\t\t\t\ttoast.present(); \t\r\n  \t\t\t}\r\n\t\t}\r\n\t})\r\n}\r\n\r\nsubmitReply(){\r\n\tconst loading = this.loadingCtrl.create({});\r\n\tloading.present();\r\n\tthis.companyProvider.submitEnggReply({rfis : this.all_rfis, RfiEmailId : this.RfiEmailId, fromId : this.fromId}).subscribe((result)=>{\r\n\t\tloading.dismissAll();\r\n\t\tif(result.status == '1'){\r\n\t\t\tlet toast = this.toastCtrl.create({\r\n\t\t        message: 'RFI Answers has been submitted successfully.',\r\n\t\t        duration: 3000,\r\n\t\t        position:'top',\r\n\t\t        cssClass: 'success'\r\n\t\t       });\r\n\t\t\ttoast.present(); \r\n\t\t\tthis.getRFIDetails();\r\n\t\t}\r\n\t\telse{\r\n\t\t\tlet toast = this.toastCtrl.create({\r\n\t\t        message: 'Error while submitting your answers. plz try later.',\r\n\t\t        duration: 3000,\r\n\t\t        position:'top',\r\n\t\t        cssClass: 'danger'\r\n\t\t       });\r\n\t\t\ttoast.present(); \r\n\t\t}\r\n\t},\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError('1');\r\n    });\r\n}\r\n\r\ndownloadFile()\r\n{\r\n\tlet toast = this.toastCtrl.create({\r\n        message: 'Start downloading....',\r\n        duration: 3000,\r\n        position:'top',\r\n        cssClass: 'info'\r\n       });\r\n\ttoast.present(); \r\n}\r\n\r\ndownloadAll()\r\n{\r\n\tif(this.download_attachments != '')\r\n\t{\r\n\t\tconst loading = this.loadingCtrl.create({});\r\n\t\tloading.present();\r\n\t\tthis.companyProvider.downloadBidAttachments(this.download_attachments).subscribe((downloaded)=>{\r\n\t\t\tif(downloaded.status == '1')\r\n\t\t\t{\r\n\t\t\t\tloading.dismissAll();\r\n\r\n\t\t\t\tthis.downloaded_href = this.APIURL+'/salvum/'+downloaded.data.path;\r\n\t\t        let toast = this.toastCtrl.create({\r\n\t\t            message: 'Start downloading...',\r\n\t\t            position: 'top',\r\n\t\t            duration: 3000,\r\n\t\t            cssClass: 'success'\r\n\t\t           });\r\n\t\t        toast.present(); \r\n\t\t        setTimeout(function(){ document.getElementById('download_zip_attachments').click(); }, 1000);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tloading.dismissAll();\r\n\t\t\t\tlet toast = this.toastCtrl.create({\r\n\t\t\t        message: 'Error, plz try later.',\r\n\t\t\t        duration: 3000,\r\n\t\t\t        position:'top',\r\n\t\t\t        cssClass: 'danger'\r\n\t\t\t       });\r\n\t\t\t\ttoast.present();\r\n\t\t\t}\r\n\t\t},\r\n\t    err => {\r\n\t        loading.dismissAll();\r\n\t        this.showTechnicalError('1');\r\n\t    });\r\n\t}\r\n\telse\r\n\t{\r\n\t\tlet toast = this.toastCtrl.create({\r\n\t        message: 'No attachments found.',\r\n\t        duration: 3000,\r\n\t        position:'top',\r\n\t        cssClass: 'danger'\r\n\t       });\r\n\t\ttoast.present();\r\n\t}\r\n}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/engg-rfi/engg-rfi.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { EnggRfiPage } from './engg-rfi';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    EnggRfiPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(EnggRfiPage),\r\n  ],\r\n})\r\nexport class EnggRfiPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/engg-rfi/engg-rfi.module.ts"],"sourceRoot":""}