{"version":3,"sources":["../../src/pages/dir-transmittal-details/dir-transmittal-details.ts","../../src/pages/dir-transmittal-details/dir-transmittal-details.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAA0C;AAC8G;AACtF;AACtC;AAQ5B,IAAa,yBAAyB;IA6CpC,mCAAmB,SAA0B,EAAS,QAAwB,EAAS,OAAsB,EAAS,SAAoB,EAAS,eAAgC,EAAS,SAA0B,EAAS,SAA0B,EAAQ,WAA8B;QAA5Q,cAAS,GAAT,SAAS,CAAiB;QAAS,aAAQ,GAAR,QAAQ,CAAgB;QAAS,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,oBAAe,GAAf,eAAe,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAiB;QAAQ,gBAAW,GAAX,WAAW,CAAmB;QAfjS,kBAAa,GAAO,EAAE,CAAC;QACvB,cAAS,GAAO,EAAE,CAAC;QAMnB,WAAM,GAAO,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC3C,cAAS,GAAG,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;QAC9C,YAAO,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC3C,0BAAqB,GAAG,YAAY,CAAC,OAAO,CAAC,uBAAuB,CAAC,CAAC;QACtE,iBAAY,GAAO,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;QACxD,WAAM,GAAK,CAAC,EAAE,EAAC,IAAI,EAAC,SAAS,CAAC,CAAC;QAE/B,qBAAgB,GAAK,EAAE,CAAC;QAErB,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAChC,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QACzC,EAAE,EAAC,IAAI,CAAC,GAAG,IAAI,SAAS,CAAC,EAAC;YACpB,yCAAyC;YACzC,IAAI,CAAC,GAAG,GAAG,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;YACrD,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,CAAC;YACzD,IAAI,CAAC,QAAQ,GAAG,YAAY,CAAC,OAAO,CAAC,oBAAoB,CAAC,CAAC;QAC/D,CAAC;QACD,IAAI,EAAC;YACH,YAAY,CAAC,OAAO,CAAC,mBAAmB,EAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACnD,YAAY,CAAC,OAAO,CAAC,mBAAmB,EAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACvD,YAAY,CAAC,OAAO,CAAC,oBAAoB,EAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;QAC3D,CAAC;QACD,IAAI,CAAC,MAAM,GAAG,YAAY,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC/C,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAE7B,IAAI,CAAC,cAAc,EAAE,CAAC;QACtB,IAAI,CAAC,iBAAiB,GAAG;YACrB,OAAO,EAAG,OAAO;YACjB,UAAU,EAAG,UAAU;YACvB,gBAAgB,EAAG,gBAAgB;YACnC,gBAAgB,EAAG,gBAAgB;YACnC,QAAQ,EAAG,QAAQ;YACnB,eAAe,EAAG,eAAe;YACjC,QAAQ,EAAG,QAAQ;YACnB,SAAS,EAAG,SAAS;YACrB,KAAK,EAAG,KAAK;YACb,UAAU,EAAG,UAAU;YACvB,cAAc,EAAG,cAAc;YAC/B,cAAc,EAAG,cAAc;YAC/B,OAAO,EAAG,OAAO;SACpB,CAAC;IACN,CAAC;IAED,sDAAkB,GAAlB,UAAmB,IAAW;QAAX,kCAAW;QAC5B,IAAI,GAAG,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,GAAG,YAAY,GAAG,kBAAkB;QAC3D,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC9B,OAAO,EAAE,0BAA0B,GAAC,GAAG;YACvC,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,KAAK;YACf,QAAQ,EAAE,MAAM;SACjB,CAAC,CAAC;QACH,KAAK,CAAC,OAAO,EAAE,CAAC;IACpB,CAAC;IAED,gDAAY,GAAZ;QACA,IAAI,IAAI,GAAG,IAAI,CAAC;QACd,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,SAAS;YAC7D,EAAE,EAAC,SAAS,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;gBACvB,SAAS,CAAC,OAAO,CAAC,UAAS,KAAK;oBAC9B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG;wBAC1B,QAAQ,EAAG,KAAK,CAAC,GAAG;wBACpB,UAAU,EAAG,KAAK,CAAC,UAAU;wBAC7B,UAAU,EAAG,KAAK,CAAC,UAAU;wBAC7B,UAAU,EAAG,KAAK,CAAC,UAAU;qBAC9B;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,2CAAO,GAAP;QACE,IAAI,YAAY,GAAG,oCAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,EAAE,CAAC;QACnD,IAAM,SAAS,GAAG,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,EAAE,mEAAmE,CAAC,CAAC;QAC3G,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC;QACvC,SAAS,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC;QAC3B,SAAS,CAAC,KAAK,EAAE,CAAC;QAClB,UAAU,CAAC;YACP,SAAS,CAAC,KAAK,EAAE,CAAC;YAClB,SAAS,CAAC,KAAK,EAAE,CAAC;QACtB,CAAC,EAAE,IAAI,CAAC,CAAC;IACX,CAAC;IAED,yDAAqB,GAArB;QAAA,iBAqFC;QApFA,IAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;QAC3C,OAAO,CAAC,OAAO,EAAE,CAAC;QACnB,IAAI,CAAC,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,UAAC,WAAW;YAE1E,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAC/B,EAAE,EAAC,WAAW,IAAI,IAAI,CAAC,CACvB,CAAC;gBACF,KAAI,CAAC,kBAAkB,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC;gBAC5D,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBACtC,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC1C,KAAI,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACjC,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBACxC,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBACjD,KAAI,CAAC,aAAa,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC;gBAClD,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBACzC,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,UAAU,CAAC;gBAC/B,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;gBAC1C,KAAI,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;gBACjC,KAAI,CAAC,KAAK,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;gBACrC,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBACtC,KAAI,CAAC,OAAO,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;gBACtC,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC5C,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC5C,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBACzC,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBACxC,KAAI,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,WAAW,CAAC;gBACjD,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;gBAC/B,KAAI,CAAC,UAAU,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC;gBAC5C,IAAI,IAAI,GAAG,KAAI,CAAC;gBAChB,EAAE,EAAC,KAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;oBAC7B,KAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAS,IAAI;wBACnC,EAAE,EAAC,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,EAAC;4BAC/B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,UAAS,KAAK;gCACtC,EAAE,EAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAC;oCAC7C,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gCACpC,CAAC;4BACH,CAAC,CAAC;wBACJ,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;gBACD,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,gBAAgB,CAAC;gBAClC,KAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,KAAI,CAAC,eAAe,CAAC,sBAAsB,CAAC,KAAI,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;oBAChF,KAAI,CAAC,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;oBAC3B,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;oBAC7B,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;oBAC7B,KAAI,CAAC,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC;oBACrC,KAAI,CAAC,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;oBAC7B,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC;oBAChB,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,KAAI,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,SAAS;wBACrE,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC;wBACtB,EAAE,EAAC,SAAS,CAAC,MAAM,IAAI,GAAG,CAAC,CAC3B,CAAC;4BACC,KAAI,CAAC,cAAc,GAAG,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC;4BAC5C,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;4BAC1C,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;wBAC5C,CAAC;wBACD,IAAI,CACJ,CAAC;4BACC,KAAI,CAAC,cAAc,GAAG,EAAE,CAAC;4BACzB,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;4BACtB,KAAI,CAAC,WAAW,GAAG,EAAE,CAAC;wBACxB,CAAC;wBACD,OAAO,CAAC,UAAU,EAAE,CAAC;oBACvB,CAAC,EACD,aAAG;wBACC,OAAO,CAAC,UAAU,EAAE,CAAC;wBACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC9B,CAAC,CAAC,CAAC;gBACR,CAAC,EACE,aAAG;oBACC,OAAO,CAAC,UAAU,EAAE,CAAC;oBACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC9B,CAAC,CAAC,CAAC;YACX,CAAC;YACC,IAAI,CACJ,CAAC;gBACC,OAAO,CAAC,UAAU,EAAE,CAAC;YACvB,CAAC;QACJ,CAAC,EACA,aAAG;YACC,OAAO,CAAC,UAAU,EAAE,CAAC;YACrB,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,8CAAU,GAAV,UAAW,SAAS;QAClB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,iBAAiB,EAAE,EAAC,YAAY,EAAG,SAAS,EAAC,CAAC,CAAC;QACjF,KAAK,CAAC,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,oDAAgB,GAAhB,UAAiB,IAAI,EAAC,IAAI,EAAC,GAAG;QAC5B,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;QAChB,EAAE,EAAC,IAAI,IAAI,UAAU,CAAC,EAAC;YACrB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAC;gBACnC,KAAK,EAAG,IAAI,CAAC,KAAK;gBAClB,OAAO,EAAG,IAAI,CAAC,OAAO;gBACtB,KAAK,EAAG,IAAI;gBACZ,SAAS,EAAG,GAAG;aAChB,CAAC;QACJ,CAAC;QACD,EAAE,EAAC,IAAI,IAAI,UAAU,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,SAAS,CAAC,EAAC;YAC3D,IAAI,QAAQ,GAAG,IAAI,CAAC;YACpB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,cAAc,EAAE,EAAC,SAAS,EAAG,QAAQ,EAAE,SAAS,EAAG,GAAG,CAAC,IAAI,EAAE,UAAU,EAAG,GAAG,CAAC,YAAY,EAAE,OAAO,EAAG,GAAG,CAAC,EAAE,EAAC,CAAC,CAAC;YAC/I,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;QACD,EAAE,EAAC,IAAI,IAAI,KAAK,CAAC,EAAC;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,aAAa,EAAE,EAAC,KAAK,EAAG,IAAI,EAAE,SAAS,EAAG,GAAG,EAAC,CAAC,CAAC;YAChF,KAAK,CAAC,OAAO,EAAE,CAAC;QACpB,CAAC;IACH,CAAC;IAED,mDAAe,GAAf,UAAgB,IAAI;QAElB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAC;YACtC,KAAK,EAAG,IAAI,CAAC,KAAK;YAClB,GAAG,EAAG,IAAI,CAAC,GAAG;YACd,IAAI,EAAG,IAAI;SACZ,CAAC,CAAC;IACL,CAAC;IAED,kDAAc,GAAd;QAAA,iBAWC;QAVA,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,UAAC,WAAW;YAChE,EAAE,EAAC,WAAW,IAAI,IAAI,CAAC,CACvB,CAAC;gBACA,KAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,IAAI,CAAC;gBACjC,KAAI,CAAC,SAAS,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,CAAC;QACF,CAAC,EACA,aAAG;YACC,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC9B,CAAC,CAAC,CAAC;IACL,CAAC;IAED,wCAAI,GAAJ;QACI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IACxC,CAAC;IAAA,CAAC;IAIJ,kDAAc,GAAd;QACE,IAAI,MAAM,GAAG;YACd,KAAK,EAAG,IAAI,CAAC,KAAK;YAClB,QAAQ,EAAG,IAAI,CAAC,QAAQ;SACxB,CAAC;QACF,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAC;YACzC,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;QAChC,CAAC;QACD,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,qBAAqB,EAAC,MAAM,CAAC,CAAC;IACjD,CAAC;IAEA,4CAAQ,GAAR;QAEE,IAAI,CAAC,QAAQ,CAAC,OAAO,EAAE,CAAC;IAC1B,CAAC;IAEH,gCAAC;AAAD,CAAC;AAvRY,yBAAyB;IANrC,wEAAS,EAAE;IACX,gEAAS,CAAC;QACT,QAAQ,EAAE,8BAA8B;QACxC,WAAW,oFAAE,CAA8B;OACf;KAC7B,CAAC;8BA8C+R;AA0OhS;SAvRY,yBAAyB,iB;;;;;;;;;;;;;;;;;;;ACXG;AACO;AACsB;AAUtE,IAAa,+BAA+B;IAA5C;IAA8C,CAAC;IAAD,sCAAC;AAAD,CAAC;AAAlC,+BAA+B;IAR3C,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,2FAAyB;SAC1B;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,2FAAyB,CAAC;SACpD;KACF,CAAC;GACW,+BAA+B,CAAG;AAAH","file":"93.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, AlertController,ToastController,LoadingController } from 'ionic-angular';\r\nimport { CompanyProvider } from '../../providers/company/company';\r\nimport * as $ from 'jquery';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-dir-transmittal-details',\r\n  templateUrl: 'dir-transmittal-details.html',\r\n  providers: [CompanyProvider]\r\n})\r\nexport class DirTransmittalDetailsPage {\r\ntid:any;\r\nuserId:any;\r\nuserName:any;\r\nuserAddress:any;\r\nuserPhone:any;\r\nuserCompany:any;\r\ntransmittal:any;\r\ntransmittal_number: any;\r\nsubject: any;\r\nsender_id: any;\r\ncomments: any;\r\ndescription: any;\r\nsubmittals: any; \r\ndate_sent: any;\r\nisSent: any;\r\nsenders: any;\r\njobId: any;\r\ntradeId: any;\r\nuserPersonalId: any;\r\ntrade_name: any;\r\ntrade_task: any;\r\ntrade_icon: any;\r\njob_name: any;\r\njob_number: any;\r\nrec_id: any;\r\ntoName: any;\r\ntoEmail: any;\r\ntocompany: any;\r\ntoAddress: any;\r\nsending_items : any=[];\r\nalltrades : any=[];\r\ntoPhone: any;\r\nsender_sign:any;\r\nrec_sign:any;\r\nu_email:any;\r\ninviteId:any;\r\nAPIURL:any = localStorage.getItem('APIURL')\r\nisBrowser = localStorage.getItem('isBrowser');\r\nmy_name = localStorage.getItem('userName');\r\nactive_job_breadcrumb = localStorage.getItem('active_job_breadcrumb');\r\nbid_job_name:any = localStorage.getItem('bid_job_name');\r\nerrors:any=['',null,undefined];\r\nall_sending_items:any;\r\nall_action_items:any=[];\r\n  constructor(public modalCtrl: ModalController, public viewCtrl: ViewController, public navCtrl: NavController, public navParams: NavParams, public companyProvider: CompanyProvider, public alertCtrl: AlertController, public toastCtrl: ToastController,public loadingCtrl: LoadingController ) {\r\n  \tthis.tid = navParams.get('tid');\r\n  \tthis.jobId = navParams.get('jobId');\r\n  \tthis.u_email = navParams.get('email');\r\n  \tthis.inviteId = navParams.get('InviteId');\r\n    if(this.tid == undefined){\r\n          // this.navCtrl.push('TransmittalsPage');\r\n          this.tid = localStorage.getItem('dir_current_tr_id');\r\n          this.u_email = localStorage.getItem('dir_current_tr_em');\r\n          this.inviteId = localStorage.getItem('dir_current_tr_iid');\r\n      }\r\n      else{\r\n        localStorage.setItem('dir_current_tr_id',this.tid); \r\n        localStorage.setItem('dir_current_tr_em',this.u_email); \r\n        localStorage.setItem('dir_current_tr_iid',this.inviteId); \r\n      }\r\n      this.userId = localStorage.getItem('userinfo');\r\n      this.getTransmittalDetails();\r\n\r\n      this.getCurrentuser(); \r\n      this.all_sending_items = {\r\n          'plans' : 'Plans',\r\n          'drawings' : 'Drawings',\r\n          'specifications' : 'Specifications',\r\n          'copy of letter' : 'Copy of Letter',\r\n          'prints' : 'Prints',\r\n          'shop drawings' : 'Shop Drawings',\r\n          'letter' : 'Letter',\r\n          'samples' : 'Samples',\r\n          'rfi' : 'RFI',\r\n          'contract' : 'Contract',\r\n          'change order' : 'Change Order',\r\n          'reproducible' : 'Reproducible',\r\n          'other' : 'Other'\r\n      };\r\n  }\r\n\r\n  showTechnicalError(type = null){\r\n    var msg = (type == '1') ? 'try later.' : 'reload the page.'\r\n    let toast = this.toastCtrl.create({\r\n        message: 'Technical error, Please '+msg,\r\n        duration: 3000,\r\n        position: 'top',\r\n        cssClass: 'info'\r\n      });\r\n      toast.present();\r\n  }\r\n\r\n  getAllTrades(){\r\n  var self = this;\r\n    this.companyProvider.allTrades(this.jobId).subscribe((alltrades)=>{\r\n      if(alltrades.length > 0){\r\n        alltrades.forEach(function(trade){\r\n          self.alltrades[trade._id] = {\r\n            trade_id : trade._id,\r\n            trade_icon : trade.trade_icon,\r\n            trade_name : trade.trade_name,\r\n            trade_task : trade.trade_task\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  printIt(){\r\n    var printContent = $(\".trans_cover_letter\").html();\r\n    const WindowPrt = window.open('', '', 'left=0,top=0,width=900,height=900,toolbar=0,scrollbars=0,status=0');\r\n    WindowPrt.document.write(printContent);\r\n    WindowPrt.document.close();\r\n    WindowPrt.focus();\r\n    setTimeout(function() {\r\n        WindowPrt.print();\r\n        WindowPrt.close();\r\n    }, 2000);\r\n  }\r\n\r\n  getTransmittalDetails(){\r\n  \tconst loading = this.loadingCtrl.create({});\r\n    loading.present(); \r\n  \tthis.companyProvider.getTransmittalDetails(this.tid).subscribe((transmittal)=>{\r\n  \t\t\r\n  \t\tthis.transmittal = transmittal;  \r\n  \t\tif(transmittal != null)\r\n  \t\t{\r\n\t\t\tthis.transmittal_number = transmittal[0].transmittal_number;\r\n\t\t\tthis.subject = transmittal[0].subject;\r\n\t\t\tthis.sender_id = transmittal[0].sender_id;\r\n\t\t\tthis.rec_id = transmittal[0].rec_id;\r\n      this.comments = transmittal[0].comments;\r\n      this.description = transmittal[0].description;\r\n\t\t\tthis.sending_items = transmittal[0].sending_items;\r\n\t\t\tthis.submittals = transmittal[0].submittals;\r\n      console.log(this.submittals)\r\n\t\t\tthis.date_sent = transmittal[0].date_sent;\r\n\t\t\tthis.isSent = transmittal[0].isSent;\r\n      this.jobId = transmittal[0].jobId;\r\n\t\t\tthis.senders = transmittal[0].senders;\r\n\t\t\tthis.tradeId = transmittal[0].tradeId;\r\n\t\t\tthis.trade_name = transmittal[0].trade_name;\r\n\t\t\tthis.trade_task = transmittal[0].trade_task;\r\n\t\t\tthis.trade_icon = transmittal[0].trade_icon;\r\n      this.job_name = transmittal[0].job_name;\r\n      this.sender_sign = transmittal[0].sender_sign;\r\n\t\t\tthis.rec_sign = transmittal[0].rec_sign;\r\n            this.job_number = transmittal[0].job_number;\r\n            var self = this;\r\n            if(this.submittals.length > 0){\r\n              this.submittals.forEach(function(subm){\r\n                if(subm.action_items.length > 0){\r\n                  subm.action_items.forEach(function(acitm){\r\n                    if(self.all_action_items.indexOf(acitm) == -1){\r\n                      self.all_action_items.push(acitm);\r\n                    }\r\n                  })\r\n                }\r\n              });\r\n            }\r\n            console.log(this.all_action_items)\r\n            this.getAllTrades();\r\n            this.companyProvider.getTransmittalReceiver(this.sender_id).subscribe((recUser)=>{\r\n    \t  \t\t\tthis.toName = recUser.name;\r\n    \t  \t\t\tthis.toEmail = recUser.email;\r\n    \t  \t\t\tthis.tocompany = recUser.company;\r\n              this.toAddress = recUser.address;\r\n    \t  \t\t\tthis.toPhone = recUser.phone;\r\n    \t  \t\t\tconsole.log(recUser)\r\n              this.companyProvider.getCompanyDetails(this.jobId).subscribe((myCompany)=>{\r\n                console.log(myCompany)\r\n                if(myCompany.status == '1')\r\n                {\r\n                  this.userPersonalId = myCompany.data.userId;\r\n                  this.userAddress = myCompany.data.address;\r\n                  this.userAddress = myCompany.data.address;\r\n                }\r\n                else\r\n                {\r\n                  this.userPersonalId = '';\r\n                  this.userCompany = '';\r\n                  this.userAddress = '';\r\n                }\r\n                loading.dismissAll();\r\n              },\r\n              err => {\r\n                  loading.dismissAll();\r\n                  this.showTechnicalError();\r\n              });\r\n    \t\t  \t},\r\n            err => {\r\n                loading.dismissAll();\r\n                this.showTechnicalError();\r\n            });\r\n  \t\t}\t\r\n      else\r\n      {\r\n        loading.dismissAll();\r\n      }\r\n\t  },\r\n    err => {\r\n        loading.dismissAll();\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  seeAcItems(act_items){\r\n    let modal = this.modalCtrl.create('ActionItemsPage', {action_items : act_items});\r\n    modal.present();\r\n  }\r\n\r\n  submittalClicked(type,item,sub){\r\n    console.log(sub)\r\n    if(type == 'contract'){\r\n      this.navCtrl.push('ViewcontractPage',{\r\n        jobId : this.jobId,\r\n        tradeId : this.tradeId,\r\n        bidId : item,\r\n        page_type : '1'\r\n      })\r\n    }\r\n    if(type != 'contract' && type != 'rfi' && type != 'request'){  \r\n      var filePath = item;\r\n      let modal = this.modalCtrl.create('ViewfilePage', {file_path : filePath, file_name : sub.item, created_at : sub.date_created, file_by : sub.by});\r\n        modal.present();\r\n    }\r\n    if(type == 'rfi'){  \r\n      let modal = this.modalCtrl.create('ViewrfiPage', {RfiId : item, page_type : '1'});\r\n        modal.present();\r\n    }\r\n  }\r\n\r\n  editTransmittal(type)\r\n  {\r\n    this.navCtrl.push('EditTransmittalPage',{\r\n      jobId : this.jobId,\r\n      tid : this.tid,\r\n      type : type\r\n    });\r\n  }\r\n\r\n  getCurrentuser(){\r\n  \tthis.companyProvider.viewUser(this.userId).subscribe((currentUser)=>{\r\n  \t\tif(currentUser != null)\r\n  \t\t{\r\n  \t\t\tthis.userName = currentUser.name;\r\n  \t\t\tthis.userPhone = currentUser.phone;\r\n  \t\t}\r\n  \t},\r\n    err => {\r\n        this.showTechnicalError();\r\n    });\r\n  }\r\n\r\n  root(){\r\n      this.navCtrl.setRoot('DashboardPage');\r\n    };\r\n\r\n\r\n\r\n  myTransmittals(){\r\n  \t\tvar params = {\r\n\t\t\tjobId : this.jobId,\r\n\t\t\tinviteId : this.inviteId\r\n\t\t};\r\n\t\tif(this.errors.indexOf(this.userId) >= 0){\r\n\t\t\tparams['email'] = this.u_email;\r\n\t\t}\r\n\t\tconsole.log(params)\r\n\t\tthis.navCtrl.push('direct-transmittals',params);\r\n\t}\r\n\r\n  backPage()\r\n  {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dir-transmittal-details/dir-transmittal-details.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { DirTransmittalDetailsPage } from './dir-transmittal-details';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    DirTransmittalDetailsPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(DirTransmittalDetailsPage),\r\n  ],\r\n})\r\nexport class DirTransmittalDetailsPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dir-transmittal-details/dir-transmittal-details.module.ts"],"sourceRoot":""}